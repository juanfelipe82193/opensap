/*!
 * OpenUI5
 * (c) Copyright 2009-2020 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/integration/library","sap/f/library","sap/ui/dom/includeScript","sap/f/cards/BaseContent","sap/ui/integration/thirdparty/adaptivecards","sap/f/cards/adaptivecards/elements/UI5InputText","sap/f/cards/adaptivecards/elements/UI5InputNumber","sap/f/cards/adaptivecards/elements/UI5InputChoiceSet","sap/f/cards/adaptivecards/elements/UI5InputTime","sap/f/cards/adaptivecards/elements/UI5InputDate","sap/f/cards/adaptivecards/elements/UI5InputToggle","sap/f/cards/adaptivecards/overwrites/ActionRender","sap/f/cards/adaptivecards/elements/hostConfig"],function(i,l,a,B,A,U,b,c,d,e,f,g,H){"use strict";var h=B.extend("sap.f.cards.AdaptiveContent",{renderer:{apiVersion:2,render:function(r,C){var p=B.getMetadata().getRenderer();return p.render.apply(this,arguments);}}});h.prototype.init=function(){this._setupAdaptiveCardDependency();this._loadDependencies();};h.prototype.setConfiguration=function(C){this._oCardConfig=C;this._renderMSCardContent();};h.prototype.onAfterRendering=function(){this._renderMSCardContent();};h.prototype._setupAdaptiveCardDependency=function(){this.adaptiveCardInstance=new A.AdaptiveCard();this._doMSCardsOverwrites();this._adjustHostConfig();this._handleActions();this._replaceElements();this._isRtl();};h.prototype._doMSCardsOverwrites=function(){A.Action.prototype.render=g;};h.prototype._adjustHostConfig=function(){this.adaptiveCardInstance.hostConfig=new A.HostConfig(H);};h.prototype._isRtl=function(){this.adaptiveCardInstance.isRtl=function(){return sap.ui.getCore().getConfiguration().getRTL();};};h.prototype._handleActions=function(){this.adaptiveCardInstance.onExecuteAction=function(o){var t,p;if(o instanceof A.OpenUrlAction){p=o.url;t=i.CardActionType.Navigation;}else if(o instanceof A.SubmitAction){p=o.data;t=i.CardActionType.Submit;}else{return;}this.fireEvent("action",{actionSource:this,manifestParameters:p,type:t});}.bind(this);};h.prototype._replaceElements=function(){A.AdaptiveCard.elementTypeRegistry.unregisterType("Input.Text");A.AdaptiveCard.elementTypeRegistry.registerType("Input.Text",function(){return new U();});A.AdaptiveCard.elementTypeRegistry.unregisterType("Input.Number");A.AdaptiveCard.elementTypeRegistry.registerType("Input.Number",function(){return new b();});A.AdaptiveCard.elementTypeRegistry.unregisterType("Input.ChoiceSet");A.AdaptiveCard.elementTypeRegistry.registerType("Input.ChoiceSet",function(){return new c();});A.AdaptiveCard.elementTypeRegistry.unregisterType("Input.Time");A.AdaptiveCard.elementTypeRegistry.registerType("Input.Time",function(){return new d();});A.AdaptiveCard.elementTypeRegistry.unregisterType("Input.Date");A.AdaptiveCard.elementTypeRegistry.registerType("Input.Date",function(){return new e();});A.AdaptiveCard.elementTypeRegistry.unregisterType("Input.Toggle");A.AdaptiveCard.elementTypeRegistry.registerType("Input.Toggle",function(){return new f();});};h.prototype._renderMSCardContent=function(){var D=this.$();if(this.adaptiveCardInstance&&this._oCardConfig&&D&&D.size()){this.adaptiveCardInstance.parse(this._oCardConfig);D.html(this.adaptiveCardInstance.render());}};h.prototype._loadDependencies=function(){if(document.querySelector("#webcomponents-loader")){return;}a({id:"webcomponents-loader",url:sap.ui.require.toUrl("sap/ui/integration/thirdparty/webcomponents/webcomponentsjs/webcomponents-loader.js")});document.addEventListener("WebComponentsReady",function(){a({id:"webcomponents-bundle",attributes:{type:"module"},url:sap.ui.require.toUrl("sap/ui/integration/thirdparty/webcomponents/bundle.esm.js")});a({id:"webcomponents-bundle-es5",attributes:{nomodule:"nomodule"},url:sap.ui.require.toUrl("sap/ui/integration/thirdparty/webcomponents/bundle.es5.js")});});};return h;});
