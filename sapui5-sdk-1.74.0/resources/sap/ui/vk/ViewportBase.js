/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

        (c) Copyright 2009-2015 SAP SE. All rights reserved
    
 */
sap.ui.define(["sap/ui/core/Control","./tools/Tool","./library","./SelectionMode","./SelectionDisplayMode","./RenderMode"],function(C,T,v,S,a,R){"use strict";var V=C.extend("sap.ui.vk.ViewportBase",{metadata:{library:"sap.ui.vk","abstract":true,properties:{showDebugInfo:{type:"boolean",defaultValue:false},backgroundColorTop:{type:"sap.ui.core.CSSColor",defaultValue:"rgba(50, 50, 50, 1)"},backgroundColorBottom:{type:"sap.ui.core.CSSColor",defaultValue:"rgba(255, 255, 255, 1)"},width:{type:"sap.ui.core.CSSSize",defaultValue:"100%"},height:{type:"sap.ui.core.CSSSize",defaultValue:"100%"},selectionMode:{type:"sap.ui.vk.SelectionMode",defaultValue:S.Sticky},selectionDisplayMode:{type:"sap.ui.vk.SelectionDisplayMode",defaultValue:a.Highlight},freezeCamera:{type:"boolean",defaultValue:false},renderMode:{type:"sap.ui.vk.RenderMode",defaultValue:R.Default}},associations:{contentConnector:{type:"sap.ui.vk.ContentConnector",multiple:false},viewStateManager:{type:"sap.ui.vk.ViewStateManager",multiple:false},tools:{type:"sap.ui.vk.tools.Tool",multiple:true}},aggregations:{content:{type:"sap.ui.core.Control",multiple:true}},events:{urlClicked:{parameters:{nodeRef:"any",url:"string"},enableEventBubbling:true},nodeClicked:{parameters:{nodeRef:"any",x:"int",y:"int"},enableEventBubbling:true},resize:{parameters:{size:"object"},enableEventBubbling:true},nodesPicked:{parameters:{picked:{type:"any[]"}},enableEventBubbling:true},nodeZoomed:{parameters:{zoomed:{type:"any"},isZoomIn:{type:"boolean"}},enableEventBubbling:true},viewActivated:{parameters:{viewIndex:"int",view:"sap.ui.vk.View",type:{type:"string"}},enableEventBubbling:true},procedureFinished:{enableEventBubbling:true},viewFinished:{parameters:{viewIndex:"int"},enableEventBubbling:true}}}});var b=V.getMetadata().getParent().getClass().prototype;V.prototype.init=function(){if(b.init){b.init.call(this);}this._camera=null;};V.prototype.exit=function(){if(this._camera){if(this._contentConnector){var c=this._contentConnector.getContentManager();if(c){c.destroyCamera(this._camera);}this._camera=null;}}if(b.exit){b.exit.call(this);}};V.prototype.addTool=function(t){this.addAssociation("tools",t);t=t instanceof T?t:sap.ui.getCore().byId(t);t.setViewport(this);};V.prototype.getImage=function(w,h){return null;};V.prototype.stickySelectionHandler=function(n){if(this._viewStateManager==null){return;}if(n.length===0){var c=[];if(this.getSelectionDisplayMode()===a.Outline){this._viewStateManager.enumerateOutlinedNodes(function(f){c.push(f);});if(c.length>0){this._viewStateManager.setOutliningStates([],c);}}else{this._viewStateManager.enumerateSelection(function(f){c.push(f);});if(c.length>0){this._viewStateManager.setSelectionStates([],c);}}}else{var s=[];var d=[];var i,e;if(this.getSelectionDisplayMode()===a.Outline){i=this._viewStateManager.getOutliningState(n);for(e=0;e<i.length;e++){if(i[e]){d.push(n[e]);}else{s.push(n[e]);}}this._viewStateManager.setOutliningStates(s,d);}else{i=this._viewStateManager.getSelectionState(n);for(e=0;e<i.length;e++){if(i[e]){d.push(n[e]);}else{s.push(n[e]);}}this._viewStateManager.setSelectionStates(s,d);}}};V.prototype.exclusiveSelectionHandler=function(n){if(this._viewStateManager==null){return;}var c=true;if(n.length===1){c=!this._viewStateManager.getSelectionState(n[0]);}else if(n.length>1){var i;if(this.getSelectionDisplayMode()===a.Outline){i=this._viewStateManager.getOutliningState(n);}else{i=this._viewStateManager.getSelectionState(n);}for(var d=0;d<i.length;d++){if(i[d]){c=false;break;}}}var u=[];if(n.length===0||c){if(this.getSelectionDisplayMode()===a.Outline){this._viewStateManager.enumerateOutlinedNodes(function(s){u.push(s);});}else{this._viewStateManager.enumerateSelection(function(s){u.push(s);});}}if(this.getSelectionDisplayMode()===a.Outline){this._viewStateManager.setOutliningStates(n,u);}else{this._viewStateManager.setSelectionStates(n,u);}};V.prototype.setCamera=function(c){if(c!==this._camera){if(this._camera&&this._contentConnector){var d=this._contentConnector.getContentManager();if(d){d.destroyCamera(this._camera);}}}this._camera=c;return this;};V.prototype.getCamera=function(){return this._camera;};V.prototype._onBeforeClearContentConnector=function(){this.setCamera(null);};V.prototype.activateView=function(c,p,n){return this;};V.prototype.pan=function(d,c){return this;};V.prototype.rotate=function(d,c){return this;};V.prototype.zoom=function(d){return this;};return V;});
