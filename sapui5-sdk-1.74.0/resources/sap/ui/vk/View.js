/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

        (c) Copyright 2009-2015 SAP SE. All rights reserved
    
 */
sap.ui.define(["sap/ui/base/ManagedObject","./findIndexInArray"],function(M,f){"use strict";var V=M.extend("sap.ui.vk.View",{metadata:{library:"sap.ui.vk",interfaces:["sap.ui.vk.IPlaybackCollection"],properties:{viewId:{type:"string"},name:{type:"string"},description:{type:"string"}}}});V.prototype.init=function(){this._playbacks=[];this._highlightIdNodesMap=new Map();};V.prototype.exit=function(){this._playbacks=undefined;this._highlightIdNodesMap=undefined;};V.prototype.getCamera=function(){return this._camera;};V.prototype.setCamera=function(c){this._camera=c;return this;};V.prototype.hasHighlight=function(){return this._highlightIdNodesMap&&this._highlightIdNodesMap.size;};V.prototype.getHighlightIdNodesMap=function(){return this._highlightIdNodesMap;};V.prototype.addHighlightedNodes=function(h,n){var a=this._highlightIdNodesMap.get(h);if(!Array.isArray(n)){n=[n];}if(!a){this._highlightIdNodesMap.set(h,n);}else{a=a.concat(n.filter(function(i){return a.indexOf(i)<0;}));this._highlightIdNodesMap.set(h,a);}};V.prototype.hasAnimation=function(){return this._playbacks&&this._playbacks.length;};V.prototype.getPlaybacks=function(){return this._playbacks;};V.prototype.getPlayback=function(i){if(i<0||i>=this._playbacks.length){return undefined;}return this._playbacks[i];};V.prototype.indexOfPlayback=function(p){return f(this._playbacks,function(i){return i===p;});};V.prototype.addPlayback=function(p){this._playbacks.push(p);return this;};V.prototype.insertPlayback=function(p,i){if(i<0){i=0;}else if(i!==0&&i>=this._playbacks.length){i=this._playbacks.length;}this._playbacks.splice(i,0,p);return this;};V.prototype.removePlayback=function(o){var i;if(typeof o==="number"){i=o;}else if(typeof o==="string"){i=f(this._playbacks,function(a){return a.getId()===o;});}else{i=f(this._playbacks,function(a){return a===o;});}if(i!=null&&i>=0&&i<this._playbacks.length){this._playbacks.splice(i,1);}return this;};V.prototype.removePlaybacks=function(){this._playbacks.splice(0);return this;};V.prototype.getNodeInfos=function(){return this._nodeInfos;};V.prototype.setNodeInfos=function(i){this._nodeInfos=i;return this;};V.prototype.updateNodeInfos=function(u){var c=this.getNodeInfos();if(!c){return this.setNodeInfos(u);}var i=new Map();c.forEach(function(d,a){i.set(d.target,a);});var m=function(d,s){for(var p in s){d[p]=s[p];}};u.forEach(function(d){var a=i.get(d.target);if(a==null){c.push(d);}else{m(c[a],d);}});this.setNodeInfos(c);return this;};return V;});
