/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

        (c) Copyright 2009-2015 SAP SE. All rights reserved
    
 */
sap.ui.define(["sap/ui/base/Object","./AnimationTrackValueType","./findIndexInArray"],function(B,A,f){"use strict";var c=B.extend("sap.ui.vk.AnimationTrack",{constructor:function(i,p){this._id=i;this._trackValueType=p&&p.trackValueType?p.trackValueType:A.Scalar;this._cycleForward=!!(p&&p.cycleForward);this._cycleBackward=!!(p&&p.cycleBackward);this._infinite=!!(p&&p.infinite);this._keys=[];}});c.prototype.getId=function(){return this._id;};c.prototype.getKeysType=function(){return this._trackValueType;};c.prototype.isCycleForward=function(){return this._cycleForward;};c.prototype.setCycleForward=function(a){this._cycleForward=a;return this;};c.prototype.isCycleBackward=function(){return this._cycleBackward;};c.prototype.setCycleBackward=function(a){this._cycleBackward=a;return this;};c.prototype.isInfinite=function(){return this._infinite;};c.prototype.setInfinite=function(i){this._infinite=i;return this;};c.prototype.getKeysCount=function(){return this._keys.length;};c.prototype.getKey=function(i){if(i<0||i>=this._keys.length){return undefined;}return this._keys[i];};c.prototype.updateKey=function(i,v){if(i>=0||i<this._keys.length){this._keys[i].value=v;}return this;};c.prototype.removeKey=function(i){if(i>=0||i<this._keys.length){this._keys.splice(i,1);}return this;};c.prototype.findKeyIndex=function(t){var i=-1;if(this._keys.length===1){i=0;}else if(this._keys.length>1){for(var a=1;a<this._keys.length;a++){var l=this.getKey(a-1);var r=this.getKey(a);if(t>=l.time&&t<=r.time){i=t-l.time<r.time-t?a-1:a;break;}}}return i;};c.prototype.insertKey=function(t,v){var i=f(this._keys,function(k){return k.time===t;});if(i<0){this._keys.push({time:t,value:v});this._keys.sort(function(a,b){return a.time-b.time;});}else{this.updateKey(i,v);}return this;};return c;});
