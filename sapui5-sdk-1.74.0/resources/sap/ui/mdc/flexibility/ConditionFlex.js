/*
 * ! SAPUI5

		(c) Copyright 2009-2020 SAP SE. All rights reserved
	
 */
sap.ui.define(['sap/base/util/merge','sap/base/util/deepEqual'],function(m,d){"use strict";var a=function(C,o,b,p,i){if(b.applyConditionsAfterChangesApplied){b.applyConditionsAfterChangesApplied();}return new Promise(function(e){var f,g=null,M=p.modifier;f=m({},M.getProperty(b,"filterConditions"));if(f){for(var F in f){if(F===o.name){g=f[F];break;}}}if(!g){f[o.name]=[];g=f[o.name];}var h=false;f[o.name].some(function(j){if(d(j.operator,o.condition.operator)&&d(j.values,o.condition.values)){h=true;}return h;});if(!h){g.push(o.condition);M.setProperty(b,"filterConditions",f);if(!i){C.setRevertData({name:o.name,condition:o.condition});}}e();});};var r=function(C,o,b,p,i){if(b.applyConditionsAfterChangesApplied){b.applyConditionsAfterChangesApplied();}return new Promise(function(e){var f,g,n=-1,M=p.modifier;f=m({},M.getProperty(b,"filterConditions"));if(f){for(var F in f){if(F===o.name){g=f[F];break;}}}if(g&&(g.length>0)){g.some(function(E,h){if(d(E.operator,o.condition.operator)&&d(E.values,o.condition.values)){n=h;}return n>=0;});if(n>=0){g.splice(n,1);M.setProperty(b,"filterConditions",f);if(!i){C.setRevertData({name:o.name,condition:o.condition});}}}e();});};var c={};c.addCondition={"changeHandler":{applyChange:function(C,o,p){return a(C,C.getContent(),o,p,false);},completeChangeContent:function(C,b,p){},revertChange:function(C,o,p){return r(C,C.getRevertData(),o,p,true).then(function(){C.resetRevertData();});}},"layers":{"USER":true}};c.removeCondition={"changeHandler":{applyChange:function(C,o,p){return r(C,C.getContent(),o,p,false);},completeChangeContent:function(C,b,p){},revertChange:function(C,o,p){return a(C,C.getRevertData(),o,p,true).then(function(){C.resetRevertData();});}},"layers":{"USER":true}};return c;});
