//@ui5-bundle sap/ui/testrecorder/library-preload.js
/*!
 * OpenUI5
 * (c) Copyright 2009-2020 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine('sap/ui/testrecorder/Bootstrap',[],function(){"use strict";return{init:function(s,d){sap.ui.require(["sap/ui/testrecorder/Recorder"],function(R){if(s[0].toLowerCase()==="true"||s[0].toLowerCase()==="silent"){R.start(s);}});}};});
sap.ui.predefine('sap/ui/testrecorder/CommunicationBus',["sap/ui/support/supportRules/WindowCommunicationBus","sap/ui/support/supportRules/WCBConfig"],function(C,a){"use strict";var r;
var R=C.extend("sap.ui.testrecorder.CommunicationBus",{constructor:function(){if(!r){var c=new a({modulePath:"sap/ui/test",receivingWindow:"testRecorder",uriParams:{origin:"sap-ui-testrecorder-origin",frameId:"sap-ui-testrecorder-frame-identifier"},namespace:"testRecorder"});C.call(this,c);}else{return r;}}});
r=new R();return r;},true);
sap.ui.predefine('sap/ui/testrecorder/CommunicationChannels',[],function(){"use strict";return{REQUEST_ALL_CONTROLS_DATA:"REQUEST_ALL_CONTROLS_DATA",RECEIVE_ALL_CONTROLS_DATA:"RECEIVE_ALL_CONTROL_DATA",REQUEST_CONTROL_DATA:"REQUEST_CONTROL_DATA",RECEIVE_CONTROL_DATA:"RECEIVE_CONTROL_DATA",REQUEST_CODE_SNIPPET:"REQUEST_CODE_SNIPPET",RECEIVE_CODE_SNIPPET:"RECEIVE_CODE_SNIPPET",SET_DIALECT:"SET_DIALECT",DIALECT_CHANGED:"DIALECT_CHANGED",HIGHLIGHT_CONTROL:"HIGHLIGHT_CONTROL",SELECT_CONTROL_IN_TREE:"SELECT_CONTROL_IN_TREE",SHOW_CONTEXT:"SHOW_CONTEXT",CONTEXT_MENU_HIGHLIGHT:" CONTEXT_MENU_HIGHLIGHT",CONTEXT_MENU_PRESS:"CONTEXT_MENU_PRESS",CONTEXT_MENU_ENTER_TEXT:"CONTEXT_MENU_ENTER_TEXT",HIDE_IFRAME:"HIDE_IFRAME",SHOW_IFRAME:"SHOW_IFRAME",RESIZE_IFRAME_DOWN:"RESIZE_IFRAME_DOWN",RESIZE_IFRAME_UP:"RESIZE_IFRAME_UP",OPEN_NEW_WINDOW:"OPEN_NEW_WINDOW",CLOSE_IFRAME:"CLOSE_IFRAME",DOCK_IFRAME:"DOCK_IFRAME"};});
sap.ui.predefine('sap/ui/testrecorder/Constants',[],function(){"use strict";return{HIGHLIGHTER_ID:"ui5-test-recorder-highlighter",CONTEXTMENU_ID:"ui5-test-recorder-contextmenu"};},true);
sap.ui.predefine('sap/ui/testrecorder/DialectRegistry',["sap/ui/base/Object","sap/ui/testrecorder/Dialects"],function(B,D){"use strict";var a=D.UIVERI5;var d=null;
var b=B.extend("sap.ui.testrecorder.DialectRegistry",{constructor:function(){if(!d){Object.apply(this,arguments);this.setActiveDialect(a);}else{return d;}}});
b.prototype.getActiveDialect=function(){return this._sDialect;};
b.prototype.setActiveDialect=function(s){for(var k in D){if(s===D[k]){this._sDialect=s;}}};
d=new b();return d;});
sap.ui.predefine('sap/ui/testrecorder/Dialects',[],function(){"use strict";return{OPA5:"OPA5",RAW:"RAW",UIVERI5:"UIVERI5"};});
sap.ui.predefine('sap/ui/testrecorder/Recorder',["sap/ui/thirdparty/jquery","sap/ui/base/ManagedObject","sap/ui/testrecorder/CommunicationBus"],function(q,M,C){"use strict";var u=null;var c=null;var r=null;var R=null;
var a=M.extend("sap.ui.testrecorder.Recorder",{constructor:function(){if(!R){M.apply(this,arguments);}else{q.sap.log.warning("Only one Recorder allowed");return R;}}});
a.prototype.start=function(t){if(this._hasStarted){return;}this._hasStarted=true;this._testRecorderConfig=t||sap.ui.getCore().getConfiguration().getTestRecorderMode();if(this._testRecorderConfig&&!this._testRecorderConfig.indexOf("silent")>-1&&!this._isInIframe()){sap.ui.require(["sap/ui/testrecorder/UIContextInjector","sap/ui/testrecorder/inspector/ControlInspector","sap/ui/testrecorder/interaction/RecordListener"],function(U,b,d){u=U;c=b;r=d;u.injectFrame(this._testRecorderConfig,this._stop.bind(this));C.allowFrame(u.getCommunicationInfo());c.init();r.init();}.bind(this));}};
a.prototype._stop=function(){this._hasStarted=false;c.stop();r.stop();};
a.prototype._isInIframe=function(){try{if(window.self!==window.top){var t="#sap-ui-test-recorder-frame";if(window.top.$&&window.top.$(t).length&&window.top.$(t)[0].contentWindow===window.self){return true;}else{return false;}}}catch(e){return true;}};
R=new a();return R;},true);
sap.ui.predefine('sap/ui/testrecorder/UIContextInjector',["sap/ui/thirdparty/jquery","sap/ui/base/Object","sap/ui/testrecorder/CommunicationBus","sap/ui/testrecorder/CommunicationChannels"],function(q,B,C,a){"use strict";var u=null;var I="sap-ui-test-recorder-frame";var F={MIN:"32px",MID:"50%",MAX:"100%"};var b={MIN:"180px",MAX:"100%"};
var U=B.extend("sap.ui.testrecorder.UIContextInjector",{constructor:function(){if(!u){this._sIdentifier=g();Object.apply(this,arguments);}else{return u;}}});
U.prototype.injectFrame=function(t,o){window.communicationWindows=window.communicationWindows||{};this.fnOnClose=o;this._generateTestRecorderUrl();this._isInIframe=t.indexOf("window")===-1;if(this._isInIframe){this._openFrame();}else{this._openWindow();}window.communicationWindows.testRecorder.addEventListener("beforeunload",function(){if(!this._dockStarted&&!this._closeTriggered){this.close();}}.bind(this));C.subscribe(a.HIDE_IFRAME,this.hideFrame.bind(this));C.subscribe(a.SHOW_IFRAME,this.showFrame.bind(this));C.subscribe(a.RESIZE_IFRAME_UP,this.resizeFrameUp.bind(this));C.subscribe(a.RESIZE_IFRAME_DOWN,this.resizeFrameDown.bind(this));C.subscribe(a.CLOSE_IFRAME,this.close.bind(this));C.subscribe(a.DOCK_IFRAME,this.dockFrame.bind(this));C.subscribe(a.OPEN_NEW_WINDOW,this.openNewWindow.bind(this));};
U.prototype.hideFrame=function(h){var f=document.getElementById(I).style;this._originalFrameSize={width:f.width,height:f.height};f.width=b.MIN;f.height=F.MIN;};
U.prototype.showFrame=function(h){var f=document.getElementById(I).style;if(this._originalFrameSize){f.width=this._originalFrameSize.width;f.height=this._originalFrameSize.height;this._originalFrameSize=null;}else{f.width=b.MAX;f.height=F.MID;}};
U.prototype.resizeFrameUp=function(){var f=document.getElementById(I).style;switch(f.height){case F.MIN:f.height=F.MID;break;case F.MID:f.height=F.MAX;break;default:f.height=F.MAX;}};
U.prototype.resizeFrameDown=function(){var f=document.getElementById(I).style;switch(f.height){case F.MAX:f.height=F.MID;break;case F.MID:f.height=F.MIN;break;default:f.height=F.MIN;}};
U.prototype.dockFrame=function(){this._dockStarted=true;this.close();this._openFrame();};
U.prototype.openNewWindow=function(){this._dockStarted=true;this.close();this._openWindow();};
U.prototype._openWindow=function(){window.communicationWindows.testRecorder=window.open(this._sUrl,"sapUiTestRecorder","width=1024,height=700,status=no,toolbar=no,menubar=no,resizable=yes,location=no,directories=no,scrollbars=yes");window.communicationWindows.testRecorder.window.onload=function(){window.communicationWindows.testRecorder.document.title="Test Recorder";};this._isInIframe=false;this._dockStarted=false;this._closeTriggered=false;};
U.prototype._openFrame=function(){var f=document.createElement("IFRAME");f.id=I;f.src=this._sUrl;f.style.width=b.MAX;f.style.height=F.MID;f.style.position="absolute";f.style.left="0";f.style.bottom="0";f.style.border="none";f.style.borderRadius="1px";f.style.zIndex="1001";f.style.boxShadow="1px -10px 42px -4px #888";document.body.appendChild(f);window.communicationWindows.testRecorder=f.contentWindow;this._dockStarted=false;this._isInIframe=true;this._closeTriggered=false;};
U.prototype.close=function(){if(this._closeTriggered){return;}this._closeTriggered=true;if(this._isInIframe){var f=document.getElementById(I);var c=f&&f.contentWindow;if(c){c.onerror=q.noop;f.src="about:blank";c.document.write('');c.close();if(typeof CollectGarbage=="function"){CollectGarbage();}f.remove();}}else if(window.communicationWindows.testRecorder){window.communicationWindows.testRecorder.close();}if(!this._dockStarted){window.communicationWindows={};this.fnOnClose();}};
U.prototype.getCommunicationInfo=function(){return{origin:this._sOrigin,identifier:this._sIdentifier,url:this._sUrl};};
U.prototype._generateTestRecorderUrl=function(){this._sUrl=q.sap.getModulePath("sap.ui.testrecorder.ui","/overlay.html?sap-ui-testrecorder-origin="+window.location.protocol+"//"+window.location.host+"&"+"sap-ui-testrecorder-frame-identifier="+this._sIdentifier);var f=new window.URI(this._sUrl);this._sOrigin=(f.protocol()||window.location.protocol.replace(':',''))+'://'+(f.host()||window.location.host);};
function g(){return''+Date.now();}
u=new U();return u;},true);
sap.ui.predefine('sap/ui/testrecorder/codeSnippets/CodeSnippetGenerator',["sap/ui/thirdparty/jquery","sap/ui/base/Object"],function($,B){"use strict";
var C=B.extend("sap.ui.testrecorder.codeSnippets.CodeSnippetGenerator",{});
C.prototype.getSnippet=function(d){return new Promise(function(r,a){if(!d||!d.controlSelector){a(new Error("Control selector is required!"));}var s=this._generate($.extend(true,{},d));r(s);}.bind(this));};
C.prototype._generate=function(){return"";};
C.prototype._getSelectorAsString=function(c){var s=JSON.stringify(c,undefined,4);return s.replace(/\"([^(\")"]+)\":/g,"$1:");};
C.prototype._getIndentation=function(t){var r="";for(var i=0;i<t*4;i+=1){r+=" ";}return r;};
return C;});
sap.ui.predefine('sap/ui/testrecorder/codeSnippets/CodeSnippetProvider',["sap/ui/base/Object","sap/ui/testrecorder/codeSnippets/OPA5CodeSnippetGenerator","sap/ui/testrecorder/codeSnippets/RawCodeSnippetGenerator","sap/ui/testrecorder/codeSnippets/UIVeri5CodeSnippetGenerator","sap/ui/testrecorder/DialectRegistry","sap/ui/testrecorder/Dialects"],function(B,O,R,U,D,a){"use strict";var c=null;
var C=B.extend("sap.ui.testrecorder.codeSnippets.CodeSnippetProvider",{constructor:function(){if(!c){Object.apply(this,arguments);}else{return c;}}});
C.prototype.getSnippet=function(d){var g=C.getGenerator(D.getActiveDialect());return g.getSnippet(d);};
C.getGenerator=function(d){switch(d){case a.OPA5:return O;case a.RAW:return R;case a.UIVERI5:return U;default:return R;}};
c=new C();return c;});
sap.ui.predefine('sap/ui/testrecorder/codeSnippets/OPA5CodeSnippetGenerator',["sap/ui/testrecorder/codeSnippets/CodeSnippetGenerator","sap/ui/testrecorder/interaction/Commands"],function(C,a){"use strict";
var O=C.extend("sap.ui.testrecorder.codeSnippets.OPA5CodeSnippetGenerator",{});
O.prototype._generate=function(d){var i=d.controlSelector.interaction&&d.controlSelector.interaction.idSuffix;var A=this._getActionAsString(d.action,i);if(A){d.controlSelector.actions=[];}delete d.controlSelector.interaction;var s=this._getSelectorAsString(d.controlSelector);var S="this.waitFor("+this._getSelectorWithAction(s,A)+");";return S;};
O.prototype._getActionAsString=function(A,i){i=i?'idSuffix: "'+i+'"':"";var p;switch(A){case a.PRESS:p=i&&"{\n"+this._getIndentation(3)+i+"\n"+this._getIndentation(2)+"}";return"new Press("+p+")";case a.ENTER_TEXT:p="{\n"+this._getIndentation(2)+(i&&i+",\n"+this._getIndentation(2))+'text: "test"'+"\n"+this._getIndentation(1)+"}";return"new EnterText("+p+")";default:return"";}};
O.prototype._getSelectorWithAction=function(s,A){return s.replace('actions: []','actions: '+A);};
return new O();});
sap.ui.predefine('sap/ui/testrecorder/codeSnippets/RawCodeSnippetGenerator',["sap/ui/testrecorder/codeSnippets/CodeSnippetGenerator"],function(C){"use strict";
var R=C.extend("sap.ui.testrecorder.codeSnippets.RawCodeSnippetGenerator",{});
R.prototype._generate=function(d){return this._getSelectorAsString(d.controlSelector);};
return new R();});
sap.ui.predefine('sap/ui/testrecorder/codeSnippets/UIVeri5CodeSnippetGenerator',["sap/ui/testrecorder/codeSnippets/CodeSnippetGenerator","sap/ui/testrecorder/interaction/Commands"],function(C,a){"use strict";
var U=C.extend("sap.ui.testrecorder.codeSnippets.UIVeri5CodeSnippetGenerator",{});
U.prototype._generate=function(d){var e="element(by.control("+this._getSelectorAsString(d.controlSelector)+"))";var s=e+this._getActionAsString(d.action)+";";return s;};
U.prototype._getActionAsString=function(A){switch(A){case a.PRESS:return".click()";case a.ENTER_TEXT:return'.sendKeys("test")';default:return"";}};
return new U();});
sap.ui.predefine('sap/ui/testrecorder/controlSelectors/UIVeri5SelectorGenerator',["sap/ui/base/Object","sap/ui/test/RecordReplay"],function(B,R){"use strict";var s=[];var S=100;
var U=B.extend("sap.ui.testrecorder.controlSelectors.UIVeri5SelectorGenerator",{});
U.prototype.getSelector=function(d){var D=_(d);var c={domElementId:D.id};var C=this._findCached(c);if(C){return Promise.resolve(C);}return R.findControlSelectorByDOMElement({domElement:D}).then(function(m){this._cache(c,m);return m;}.bind(this));};
U.prototype._findCached=function(d){var m;s.forEach(function(p){if(p.key===d.domElementId){m=p.value;}});return m;};
U.prototype._cache=function(d,m){if(s.length===S){s.shift();}s.push({key:d.domElementId,value:m});};
U.prototype.emptyCache=function(){s=[];};
function _(d){if(d.domElement&&typeof d.domElement==="string"){return document.getElementById(d.domElement);}else if(d.controlId){return sap.ui.getCore().byId(d.controlId).getFocusDomRef();}}
return new U();});
sap.ui.predefine('sap/ui/testrecorder/inspector/ControlAPI',["sap/ui/base/Object","sap/ui/core/support/ToolsAPI","sap/ui/test/_ControlFinder"],function(B,T,_){"use strict";
var C=B.extend("sap.ui.testrecorder.inspector.ControlAPI",{});
var D="default";var a="none";
C.prototype.getFrameworkData=function(){var f=T.getFrameworkInformation();return{framework:{name:f.commonInformation.frameworkName,version:f.commonInformation.version}};};
C.prototype.getAllControlData=function(){var r=T.getRenderedControlTree();return{renderedControls:r};};
C.prototype.getControlData=function(d){var c;if(d.controlId){c=d.controlId;}else if(d.domElement){c=_._getControlForElement(d.domElement).getId();}var p=this._getFormattedProperties(c);var b=this._getFormattedBindings(c);return{properties:p,bindings:b};};
C.prototype._getFormattedProperties=function(c){var A=T.getControlProperties(c);A.own=[A.own];var f={};["own","inherited"].forEach(function(t){f[t]=[];A[t].forEach(function(p){Object.keys(p.properties).forEach(function(P){var m=p.properties[P];f[t].push({inheritedFrom:p.meta.controlName,property:P,value:m.value===undefined?"":m.value,type:m.type});});});});return f;};
C.prototype._getFormattedBindings=function(c){var A=T.getControlBindings(c);var s=A.contextPath?A.contextPath+"/":"";var S=Object.keys(A.properties)[0]&&A.properties[Object.keys(A.properties)[0]];var b=S&&S.model.names[0]||D;var f={context:[{path:A.contextPath||a,model:b}],properties:[],aggregations:[]};Object.keys(A.properties).forEach(function(p){var P=A.properties[p];f.properties.push({property:p,relativePath:P.path,absolutePath:s+P.path,model:P.model.names[0]||D});});Object.keys(A.aggregations).forEach(function(d){var m=A.aggregations[d].model;f.aggregations.push({aggregation:d,relativePath:m.path,absolutePath:s+m.path,model:m.names[0]||D});});return f;};
return new C();},true);
sap.ui.predefine('sap/ui/testrecorder/inspector/ControlInspector',["sap/ui/base/Object","sap/ui/testrecorder/CommunicationBus","sap/ui/testrecorder/CommunicationChannels","sap/ui/testrecorder/inspector/DOMMutation","sap/ui/support/supportRules/ui/external/Highlighter","sap/ui/test/_ControlFinder","sap/ui/testrecorder/inspector/ControlAPI","sap/ui/testrecorder/Constants","sap/ui/testrecorder/DialectRegistry","sap/ui/testrecorder/controlSelectors/UIVeri5SelectorGenerator","sap/ui/testrecorder/codeSnippets/CodeSnippetProvider"],function(B,C,a,D,H,_,b,c,d,U,e){"use strict";var o=null;var h=new H(c.HIGHLIGHTER_ID);var p;
var f=B.extend("sap.ui.testrecorder.inspector.ControlInspector",{constructor:function(){if(!o){Object.apply(this,arguments);this._mutation=new D(this.getAllControlData);}else{return o;}}});
f.prototype.init=function(){this._mutation.start();C.subscribe(a.REQUEST_ALL_CONTROLS_DATA,this.getAllControlData.bind(this));C.subscribe(a.REQUEST_CONTROL_DATA,this.getControlData.bind(this));C.subscribe(a.REQUEST_CODE_SNIPPET,this.getCodeSnippet.bind(this));C.subscribe(a.HIGHLIGHT_CONTROL,this.highlightControl.bind(this));C.subscribe(a.SET_DIALECT,this.setDialect.bind(this));};
f.prototype.getAllControlData=function(){C.publish(a.RECEIVE_ALL_CONTROLS_DATA,{renderedControls:b.getAllControlData().renderedControls,framework:b.getFrameworkData().framework});U.emptyCache();};
f.prototype.getControlData=function(m){var g=b.getControlData(m);C.publish(a.RECEIVE_CONTROL_DATA,g);};
f.prototype.getCodeSnippet=function(m){p=m;return U.getSelector(m).then(function(s){return e.getSnippet({controlSelector:s,action:m.action});}).then(function(s){C.publish(a.RECEIVE_CODE_SNIPPET,{codeSnippet:s});}).catch(function(E){C.publish(a.RECEIVE_CODE_SNIPPET,{error:"Could not generate code snippet for "+JSON.stringify(m)+". Details: "+E,domElement:m.domElement});});};
f.prototype.highlightControl=function(m){if(m.domElement){h.highlight(m.domElement);}else if(m.controlId){var g=_._findElements({id:m.controlId})[0];if(g){h.highlight(g.id);}}};
f.prototype.setDialect=function(s){d.setActiveDialect(s);C.publish(a.DIALECT_CHANGED);if(p){this.getCodeSnippet(p);}};
f.prototype.stop=function(){this._mutation.stop();};
o=new f();return o;},true);
sap.ui.predefine('sap/ui/testrecorder/inspector/DOMMutation',["sap/ui/thirdparty/jquery","sap/ui/base/ManagedObject","sap/ui/testrecorder/Constants"],function($,M,c){"use strict";
var D=M.extend("sap.ui.testrecorder.inspector.DOMMutation",{
constructor:function(o){this._observer=new window.MutationObserver(function(m){var i=true;m.forEach(function(a){if(_(a,c.HIGHLIGHTER_ID)||_(a,c.CONTEXTMENU_ID)){i=false;}});if(i){o();}});},
start:function(){this._observer.observe(document.body,{subtree:true,childList:true});},
stop:function(){this._observer.disconnect();}
});
function _(m,i){return m.target.id===i||(m.addedNodes.length&&m.addedNodes[0].id===i)||(m.removedNodes.length&&m.removedNodes[0].id===i);}
return D;});
sap.ui.predefine('sap/ui/testrecorder/interaction/CommandExecutor',["sap/ui/testrecorder/interaction/Commands","sap/ui/testrecorder/interaction/Highlight","sap/ui/testrecorder/interaction/Press","sap/ui/testrecorder/interaction/EnterText"],function(C,H,P,E){"use strict";return{execute:function(c,d){switch(c){case"HIGHLIGHT":H.execute(d.domElementId);break;case"PRESS":P.execute(d.domElementId);break;case"ENTER_TEXT":E.execute(d.domElementId);break;default:throw new Error("Command "+c+" is not known! Known commands are: "+Object.keys(C));}}};});
sap.ui.predefine('sap/ui/testrecorder/interaction/Commands',[],function(){"use strict";return{HIGHLIGHT:"HIGHLIGHT",PRESS:"PRESS",ENTER_TEXT:"ENTER_TEXT"};});
sap.ui.predefine('sap/ui/testrecorder/interaction/ContextMenu',["sap/ui/thirdparty/jquery","sap/ui/base/Object","sap/ui/testrecorder/Constants","sap/ui/testrecorder/interaction/Commands","sap/ui/testrecorder/interaction/CommandExecutor","sap/ui/testrecorder/CommunicationBus","sap/ui/testrecorder/CommunicationChannels"],function($,B,c,C,a,b,d){"use strict";var e=5;var f=null;var s={};var m={};
var g=B.extend("sap.ui.testrecorder.interaction.ContextMenu",{});
g.show=function(D){s=D.domElementId;if(f===null&&!document.getElementById(c.CONTEXTMENU_ID)){f=_(D);}if(D.items){var h=Object.keys(m).filter(function(I){return!(D.items[I]||D.items[I]===undefined);});var v=Object.keys(m).filter(function(I){return D.items[I]||D.items[I]===undefined;});if(h.length===Object.keys(m).length){this.hide();return this;}h.forEach(function(I){m[I].hide();});v.forEach(function(I){m[I].show();});}var V=$(window).width();var i=$(window).height();var M=f.width();var j=f.height();var k=D.location.x+M+e>=V?D.location.x-M:D.location.x;var l=D.location.y+j+e>=i?D.location.y-j:D.location.y;f.css("top",(l+e)+"px");f.css("left",(k+e)+"px");g._show();return this;};
g.hide=function(){if(f){f.hide();}};
g._show=function(){if(f){f.show();}};
function _(D){var f=$("<div></div>");var h=$("<div></div>");var i=$("<div></div>");var j=$("<div></div>");m={highlight:h,press:i,enterText:j};h.text("Highlight");i.text("Press");j.text("Enter Text");h.on("click",function(){g.hide();var k={domElementId:s};if(D.withEvents){b.publish(d.CONTEXT_MENU_HIGHLIGHT,k);}else{a.execute(C.HIGHLIGHT,k);}});i.on("click",function(){g.hide();var k={domElementId:s};if(D.withEvents){b.publish(d.CONTEXT_MENU_PRESS,k);}else{a.execute(C.PRESS,k);}});j.on("click",function(){g.hide();var k={domElementId:s};if(D.withEvents){b.publish(d.CONTEXT_MENU_ENTER_TEXT,k);}else{a.execute(C.ENTER_TEXT,k);}});f.attr("id",c.CONTEXTMENU_ID);f.css("min-width","150px");f.css("position","absolute");f.css("z-index",1001);f.css("border","1px solid rgb(200, 142, 250)");f.css("border-radius","3px");f.css("background","#fff");f.css("box-sizing","border-box");[h,j,i].forEach(function(k){k.css("padding","16px");k.css("cursor","pointer");k.hover(function(){k.css("background-color","#ebf5fe");},function(){k.css("background-color","transparent");});});[h,i].forEach(function(k){k.css("border-bottom","1px solid #d9d9d9");});f.append(h);f.append(i);f.append(j);$(document.body).append(f);return f;}
return g;});
sap.ui.predefine('sap/ui/testrecorder/interaction/EnterText',["sap/ui/support/supportRules/ui/external/Highlighter","sap/ui/test/_ControlFinder","sap/ui/testrecorder/Constants","sap/ui/testrecorder/CommunicationBus","sap/ui/testrecorder/CommunicationChannels","sap/ui/testrecorder/interaction/Commands"],function(H,_,c,C,a,b){"use strict";var h=new H(c.HIGHLIGHTER_ID);return{execute:function(d){var r=_._getIdentifiedDOMElementId("#"+d);h.highlight(r);C.publish(a.SELECT_CONTROL_IN_TREE,{rootElementId:r,interactionElementId:d,action:b.ENTER_TEXT});}};});
sap.ui.predefine('sap/ui/testrecorder/interaction/Highlight',["sap/ui/support/supportRules/ui/external/Highlighter","sap/ui/test/_ControlFinder","sap/ui/testrecorder/Constants","sap/ui/testrecorder/CommunicationBus","sap/ui/testrecorder/CommunicationChannels"],function(H,_,c,C,a){"use strict";var h=new H(c.HIGHLIGHTER_ID);return{execute:function(d,o){var r=_._getIdentifiedDOMElementId("#"+d);h.highlight(r);C.publish(a.SELECT_CONTROL_IN_TREE,{rootElementId:r,interactionElementId:d});}};});
sap.ui.predefine('sap/ui/testrecorder/interaction/Press',["sap/ui/support/supportRules/ui/external/Highlighter","sap/ui/test/_ControlFinder","sap/ui/testrecorder/Constants","sap/ui/testrecorder/CommunicationBus","sap/ui/testrecorder/CommunicationChannels","sap/ui/testrecorder/interaction/Commands"],function(H,_,c,C,a,b){"use strict";var h=new H(c.HIGHLIGHTER_ID);return{execute:function(d){var r=_._getIdentifiedDOMElementId("#"+d);h.highlight(r);C.publish(a.SELECT_CONTROL_IN_TREE,{rootElementId:r,interactionElementId:d,action:b.PRESS});}};});
sap.ui.predefine('sap/ui/testrecorder/interaction/RecordListener',["sap/ui/base/Object","sap/ui/testrecorder/interaction/ContextMenu","sap/ui/testrecorder/interaction/CommandExecutor","sap/ui/testrecorder/interaction/Commands","sap/ui/testrecorder/CommunicationBus","sap/ui/testrecorder/CommunicationChannels"],function(B,C,a,b,c,d){"use strict";var r=null;
var R=B.extend("sap.ui.testrecorder.interaction.RecordListener",{constructor:function(){if(!r){Object.apply(this,arguments);this._fnClickListener=this._onClick.bind(this);this._fnContextmenuListener=this._onContextmenu.bind(this);}else{return r;}}});
R.prototype.init=function(){document.addEventListener("click",this._fnClickListener);document.addEventListener("contextmenu",this._fnContextmenuListener);c.subscribe(d.CONTEXT_MENU_HIGHLIGHT,this._onContextHighlight.bind(this));c.subscribe(d.CONTEXT_MENU_PRESS,this._onContextPress.bind(this));c.subscribe(d.CONTEXT_MENU_ENTER_TEXT,this._onContextEnterText.bind(this));};
R.prototype.stop=function(){C.hide();document.removeEventListener("click",this._fnClickListener);document.removeEventListener("contextmenu",this._fnContextmenuListener);};
R.prototype._onClick=function(e){e.preventDefault();e.stopPropagation();C.hide();};
R.prototype._onContextmenu=function(e){e.preventDefault();var D=_(e.target);C.show({domElementId:D,location:{x:e.pageX,y:e.pageY}});};
R.prototype._onContextHighlight=function(D){a.execute(b.HIGHLIGHT,D);};
R.prototype._onContextPress=function(D){a.execute(b.PRESS,D);};
R.prototype._onContextEnterText=function(D){a.execute(b.ENTER_TEXT,D);};
function _(D){if(D.id){return D.id;}else if(D.parentElement){return _(D.parentElement);}else{return"";}}
r=new R();return r;},true);
sap.ui.predefine('sap/ui/testrecorder/library',["sap/ui/core/library","sap/ui/core/Core","sap/ui/support/library"],function(){"use strict";sap.ui.getCore().initLibrary({name:"sap.ui.testrecorder",dependencies:["sap.ui.core","sap.ui.support"],interfaces:[],controls:[],elements:[],noLibraryCSS:true,version:"1.74.0",extensions:{"sap.ui.support":{internalRules:true}}});return sap.ui.testrecorder;});
sap.ui.predefine('sap/ui/testrecorder/ui/Overlay',["sap/ui/core/Core","sap/ui/core/mvc/XMLView","sap/m/Page"],function(C,X,P){"use strict";C.attachInit(function(){X.create({viewName:"sap.ui.testrecorder.ui.views.Main"}).then(function(x){var p=new P("page",{showHeader:false,backgroundDesign:"Solid",content:[x]});p.placeAt("content");});});});
sap.ui.predefine('sap/ui/testrecorder/ui/controllers/Main.controller',["sap/ui/Device","sap/ui/util/Storage","sap/ui/core/mvc/Controller","sap/ui/testrecorder/ui/models/SharedModel","sap/ui/testrecorder/CommunicationBus","sap/ui/testrecorder/CommunicationChannels","sap/ui/model/json/JSONModel","sap/ui/model/resource/ResourceModel","sap/m/MessageToast","sap/ui/support/supportRules/ui/external/ElementTree","sap/ui/testrecorder/interaction/ContextMenu"],function(D,S,C,a,b,c,J,R,M,E,d){"use strict";return C.extend("sap.ui.testrecorder.ui.controllers.Main",{onInit:function(){this._hidden=false;this._frameHeight=1;this._treeSelectionId=null;this._localStorage=new S(S.Type.local,"sap-ui-test-recorder");jQuery.sap.includeStyleSheet("sap/ui/testrecorder/ui/styles/overlay.css");this.elementTree=new E(null,{filter:{issues:false,search:true},onSelectionChanged:this._onTreeSelectionChanged.bind(this),onContextMenu:this._onTreeContextMenu.bind(this)});this._setupModels();this.toggleHeaderToolbars();},onBeforeRendering:function(){b.publish(c.REQUEST_ALL_CONTROLS_DATA);},onAfterRendering:function(){b.subscribe(c.RECEIVE_ALL_CONTROLS_DATA,this._onUpdateAllControls.bind(this));b.subscribe(c.RECEIVE_CONTROL_DATA,this._onUpdateControlDetails.bind(this));b.subscribe(c.RECEIVE_CODE_SNIPPET,this._onUpdateCodeSnippet.bind(this));b.subscribe(c.SELECT_CONTROL_IN_TREE,this._onUpdateSelection.bind(this));},toggleHeaderToolbars:function(){this.byId("ttMaximizeHeaderBar").setVisible(this._hidden);},toggleHide:function(){this._hidden=!this._hidden;this.toggleHeaderToolbars();if(this._hidden){b.publish(c.HIDE_IFRAME);}else{b.publish(c.SHOW_IFRAME);}},resizeDown:function(){this._frameHeight-=1;b.publish(c.RESIZE_IFRAME_DOWN);},resizeUp:function(){this._frameHeight+=1;b.publish(c.RESIZE_IFRAME_UP);},openWindow:function(){this._frameHeight=1;b.publish(c.OPEN_NEW_WINDOW);},close:function(){b.publish(c.CLOSE_IFRAME);},dockFrame:function(){this._frameHeight=1;b.publish(c.DOCK_IFRAME);},copyCodeSnippet:function(){var s=this.byId("codeEditor").getValue();var f=function(e){if(e.clipboardData){e.clipboardData.setData('text/plain',s);}else{e.originalEvent.clipboardData.setData('text/plain',s);}e.preventDefault();};if(D.browser.msie&&window.clipboardData){window.clipboardData.setData("text",s);}else{document.addEventListener('copy',f);document.execCommand('copy');document.removeEventListener('copy',f);}},_setupModels:function(){this.model=a;this.getView().setModel(this.model);this.model.setProperty("/isInIframe",!window.opener);var s=this._localStorage.get("dialect");if(s){this.model.setProperty("/selectedDialect",s);b.publish(c.SET_DIALECT,s);}var e=new sap.ui.model.Binding(a,"/selectedDialect",a.getContext("/"));e.attachChange(function(){var s=this.model.getProperty("/selectedDialect");b.publish(c.SET_DIALECT,s);this._localStorage.put("dialect",s);}.bind(this));var i=new R({bundleName:"sap.ui.core.messagebundle"});this.getView().setModel(i,"i18n");this.getView().setModel(new J({framework:{}}),"framework");this.getView().setModel(new J({controls:{bindings:{},properties:{},codeSnippet:"",renderedControls:[]}}),"controls");},_onUpdateAllControls:function(m){this.elementTree.setContainerId(this.byId("elementTreeContainer").getId());this._clearControlData();if(m.framework){this.getView().getModel("controls").setProperty("/framework",m.framework);}if(m.renderedControls){this.getView().getModel("controls").setProperty("/renderedControls",m.renderedControls);this.elementTree.setData({controls:m.renderedControls});}if(this._frameHeight>0&&!this._hidden){M.show(this.getView().getModel("i18n").getProperty("TestRecorder.ControlTree.MessageToast"),{duration:1000});}},_onUpdateControlDetails:function(m){if(m.properties){this.getView().getModel("controls").setProperty("/properties",m.properties);}if(m.bindings){this.getView().getModel("controls").setProperty("/bindings",m.bindings);}},_onUpdateCodeSnippet:function(m){if(m.codeSnippet){this.getView().getModel("controls").setProperty("/codeSnippet",m.codeSnippet);}else if(m.error){var n=this.getView().getModel("i18n").getResourceBundle().getText("TestRecorder.Inspect.Snippet.NotFound.Text","#"+m.domElement);this.getView().getModel("controls").setProperty("/codeSnippet",n);}},_onUpdateSelection:function(m){this.elementTree.setSelectedElement(m.rootElementId,false);this._clearControlData();b.publish(c.REQUEST_CONTROL_DATA,{domElement:m.rootElementId});b.publish(c.REQUEST_CODE_SNIPPET,{domElement:m.interactionElementId,action:m.action});b.publish(c.HIGHLIGHT_CONTROL,{domElement:m.rootElementId});},_onTreeSelectionChanged:function(e){this._clearControlData();b.publish(c.REQUEST_CONTROL_DATA,{domElement:e});b.publish(c.REQUEST_CODE_SNIPPET,{domElement:e});b.publish(c.HIGHLIGHT_CONTROL,{domElement:e});},_onTreeContextMenu:function(m){m=m||{};m.withEvents=true;m.items={highlight:false};d.show(m);},_clearControlData:function(){this.getView().getModel("controls").setProperty("/properties",{});this.getView().getModel("controls").setProperty("/bindings",{});this.getView().getModel("controls").setProperty("/codeSnippet","");}});});
sap.ui.predefine('sap/ui/testrecorder/ui/models/SharedModel',["sap/ui/model/resource/ResourceModel","sap/ui/model/json/JSONModel","sap/ui/testrecorder/Dialects"],function(R,J,D){"use strict";var i=new R({bundleName:"sap.ui.core.messagebundle"});var m=new J({iFrameTitle:i.getProperty("TestRecorder.TitleBar.Title"),dialects:[{key:D.RAW,label:i.getProperty("TestRecorder.Inspect.Snippet.Dialect.Raw")},{key:D.OPA5,label:i.getProperty("TestRecorder.Inspect.Snippet.Dialect.OPA5")},{key:D.UIVERI5,label:i.getProperty("TestRecorder.Inspect.Snippet.Dialect.UIVeri5")}],selectedDialect:D.UIVERI5});return m;});
sap.ui.require.preload({
	"sap/ui/testrecorder/manifest.json":'{"_version":"1.9.0","sap.app":{"id":"sap.ui.testrecorder","type":"library","embeds":[],"applicationVersion":{"version":"1.74.0"},"title":"UI5 library: sap.ui.testrecorder","description":"UI5 library: sap.ui.testrecorder","resources":"resources.json","offline":true},"sap.ui":{"technology":"UI5","supportedThemes":[]},"sap.ui5":{"dependencies":{"minUI5Version":"1.74","libs":{"sap.ui.core":{"minVersion":"1.74.0"}}},"library":{"i18n":false,"css":false,"content":{"controls":[],"elements":[],"interfaces":[]}}}}',
	"sap/ui/testrecorder/ui/views/Main.view.xml":'<mvc:View height="100%" viewName="sap.ui.testrecorder.ui.views.Main" controllerName="sap.ui.testrecorder.ui.controllers.Main" xmlns="sap.m" xmlns:mvc="sap.ui.core.mvc" xmlns:c="sap.ui.core" xmlns:l="sap.ui.layout" xmlns:f="sap.ui.layout.form" xmlns:code="sap.ui.codeeditor"><Page showHeader="false"><l:FixFlex><l:fixContent><Bar id="ttMaximizeHeaderBar" class="sapContrast ttPageBar ttMiniPageBar"><contentMiddle><Image src="../ui/images/Logo_O_22x22.png" densityAware="false"/><Text text="{/iFrameTitle}"/><c:Icon src="sap-icon://full-screen" press="toggleHide"/></contentMiddle></Bar><Bar id="ttStandardHeaderBar" class="sapContrast ttPageBar ttStandardPageBar"><contentLeft><Image src="../ui/images/Logo_O_22x22.png" densityAware="false"/><Text text="{/iFrameTitle}"/></contentLeft><contentMiddle><Text text="{controls&gt;/framework/name} {controls&gt;/framework/version}"/></contentMiddle><contentRight><c:Icon src="sap-icon://minimize" press="toggleHide" tooltip="{i18n&gt;TestRecorder.TitleBar.Window.Minimize.Tooltip}" visible="{/isInIframe}"/><c:Icon src="sap-icon://minimize" press="dockFrame" tooltip="{i18n&gt;TestRecorder.TitleBar.Window.Dock.Tooltip}" visible="{= !${/isInIframe} }"/><c:Icon src="sap-icon://down" press="resizeDown" visible="{/isInIframe}"/><c:Icon src="sap-icon://up" press="resizeUp" visible="{/isInIframe}"/><c:Icon src="sap-icon://popup-window" press="openWindow" tooltip="{i18n&gt;TestRecorder.TitleBar.Window.New.Tooltip}" visible="{/isInIframe}"/><c:Icon src="sap-icon://decline" press="close" tooltip="{i18n&gt;TestRecorder.TitleBar.Window.Close.Tooltip}"/></contentRight></Bar></l:fixContent><l:flexContent><l:ResponsiveSplitter defaultPane="tree-pane"><l:PaneContainer><l:SplitPane requiredParentWidth="300" id="tree-pane"><Panel headerText="{i18n&gt;TestRecorder.ControlTree.Title}" height="100%"><c:HTML id="elementTreeContainer" content="&lt;control-tree&gt;  &lt;/control-tree&gt;"/></Panel></l:SplitPane><l:SplitPane requiredParentWidth="400"><Panel headerText="{i18n&gt;TestRecorder.Inspect.Snippet.Title}"><ScrollContainer vertical="true"><HBox alignItems="Center"><Label text="{i18n&gt;TestRecorder.Inspect.Snippet.Dropdown.Label}" labelFor="SelectDialect" class="sapUiSmallMarginEnd"/><Select id="SelectDialect" forceSelection="false" selectedKey="{/selectedDialect}" items="{/dialects}"><c:Item key="{key}" text="{label}"/></Select><Button text="{i18n&gt;TestRecorder.Inspect.Snippet.Copy.Text}" press="copyCodeSnippet" class="sapUiMediumMarginBegin"/></HBox><code:CodeEditor id="codeEditor" value="{controls&gt;/codeSnippet}" editable="false" height="calc(100vh - 180px)" width="100%" type="javascript" colorTheme="theme-ambiance" lineNumbers="false"/></ScrollContainer></Panel></l:SplitPane><l:SplitPane requiredParentWidth="900px"><Panel headerText="{i18n&gt;TestRecorder.Inspect.CommonInfo.Title}" class="ttCommonInfoPanel"><IconTabBar id="tabBar" class="sapUiResponsiveContentPadding" stretchContentHeight="true"><items><IconTabFilter key="properties" text="{i18n&gt;TestRecorder.Inspect.Properties.Title}"><Table items="{controls&gt;/properties/own}" headerText="{i18n&gt;TestRecorder.Inspect.Properties.Own.Header.Text}"><columns><Column><Text text="{i18n&gt;TestRecorder.Inspect.Properties.Property.Text}"/></Column><Column><Text text="{i18n&gt;TestRecorder.Inspect.Properties.Value.Text}"/></Column><Column><Text text="{i18n&gt;TestRecorder.Inspect.Properties.Type.Text}"/></Column></columns><ColumnListItem><Text text="{controls&gt;property}"/><Text text="{controls&gt;value}"/><Text text="{controls&gt;type}"/></ColumnListItem></Table><Table items="{controls&gt;/properties/inherited}" headerText="{i18n&gt;TestRecorder.Inspect.Properties.Inherited.Header.Text}"><columns><Column><Text text="{i18n&gt;TestRecorder.Inspect.Properties.Property.Text}"/></Column><Column><Text text="{i18n&gt;TestRecorder.Inspect.Properties.Value.Text}"/></Column><Column><Text text="{i18n&gt;TestRecorder.Inspect.Properties.Type.Text}"/></Column><Column><Text text="{i18n&gt;TestRecorder.Inspect.Properties.Inherited.Text}"/></Column></columns><ColumnListItem><Text text="{controls&gt;property}"/><Text text="{controls&gt;value}"/><Text text="{controls&gt;type}"/><Text text="{controls&gt;inheritedFrom}"/></ColumnListItem></Table></IconTabFilter><IconTabFilter key="bindings" text="{i18n&gt;TestRecorder.Inspect.Bindings.Title}"><Table items="{controls&gt;/bindings/context}" headerText="{i18n&gt;TestRecorder.Inspect.Bindings.Context.Header.Text}"><columns><Column><Text text="{i18n&gt;TestRecorder.Inspect.Bindings.Path.Text}"/></Column><Column><Text text="{i18n&gt;TestRecorder.Inspect.Bindings.Model.Text}"/></Column></columns><ColumnListItem><Text text="{controls&gt;path}"/><Text text="{controls&gt;model}"/></ColumnListItem></Table><Table items="{controls&gt;/bindings/properties}" headerText="{i18n&gt;TestRecorder.Inspect.Bindings.Properties.Header.Text}"><columns><Column><Text text="{i18n&gt;TestRecorder.Inspect.Bindings.Property.Text}"/></Column><Column><Text text="{i18n&gt;TestRecorder.Inspect.Bindings.RelativePath.Text}"/></Column><Column><Text text="{i18n&gt;TestRecorder.Inspect.Bindings.AbsolutePath.Text}"/></Column><Column><Text text="{i18n&gt;TestRecorder.Inspect.Bindings.Model.Text}"/></Column></columns><ColumnListItem><Text text="{controls&gt;property}"/><Text text="{controls&gt;relativePath}"/><Text text="{controls&gt;absolutePath}"/><Text text="{controls&gt;model}"/></ColumnListItem></Table><Table items="{controls&gt;/bindings/aggregations}" headerText="{i18n&gt;TestRecorder.Inspect.Bindings.Aggregations.Header.Text}"><columns><Column><Text text="{i18n&gt;TestRecorder.Inspect.Bindings.Aggregation.Text}"/></Column><Column><Text text="{i18n&gt;TestRecorder.Inspect.Bindings.RelativePath.Text}"/></Column><Column><Text text="{i18n&gt;TestRecorder.Inspect.Bindings.AbsolutePath.Text}"/></Column><Column><Text text="{i18n&gt;TestRecorder.Inspect.Bindings.Model.Text}"/></Column></columns><ColumnListItem><Text text="{controls&gt;aggregation}"/><Text text="{controls&gt;relativePath}"/><Text text="{controls&gt;absolutePath}"/><Text text="{controls&gt;model}"/></ColumnListItem></Table></IconTabFilter></items></IconTabBar></Panel></l:SplitPane></l:PaneContainer></l:ResponsiveSplitter></l:flexContent></l:FixFlex></Page></mvc:View>'
},"sap/ui/testrecorder/library-preload"
);
//# sourceMappingURL=library-preload.js.map