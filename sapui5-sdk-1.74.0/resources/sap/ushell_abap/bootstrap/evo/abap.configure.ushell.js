// Copyright (c) 2009-2017 SAP SE, All Rights Reserved
sap.ui.define(["./abap.constants","sap/ushell/bootstrap/common/common.configure.ushell","sap/base/util/ObjectPath","sap/base/Log"],function(a,c,O,L){"use strict";function l(f){var C="sap/ushell_abap/bootstrap/evo/abap.configure.ushell";var m=f.messages;if(m&&m.length>0){for(var i=0;i<m.length;i+=1){if(m[i].severity==="error"){L.error(m[i].text,null,C);}else if(m[i].severity==="warning"){L.warning(m[i].text,null,C);}}}}function b(f){if(f.startupConfig){var C=O.create("services.Container.adapter",f);C.config=f.startupConfig;}}function s(f){var S=O.get("ushell.spaces.configurable",f);if(S){var u=O.get("startupConfig.userProfile",f)||[];var o=u.filter(function(p){return p.id==="SPACES_ENABLEMENT";})[0];var g=o&&o.value;if(g==="true"){O.set("ushell.spaces.enabled",true,f);}else if(g==="false"){O.set("ushell.spaces.enabled",false,f);}}}function d(f){var C=O.create("services.CommonDataModel.adapter",f);C.module="sap.ushell.adapters.cdm.PagesCommonDataModelAdapter";O.set("renderers.fiori2.componentData.config.enablePersonalization",false,f);}function e(){var C=c(a);l(C);b(C);s(C);if(O.get("ushell.spaces.enabled",C)){d(C);}return C;}return e;});
