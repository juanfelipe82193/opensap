//Copyright (c) 2009-2017 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/core/UIComponent","sap/ui/model/json/JSONModel","sap/ushell_abap/transport/util/Transport"],function(U,J,T){"use strict";return U.extend("sap.ushell_abap.transport.Component",{metadata:{manifest:"json"},init:function(){U.prototype.init.apply(this,arguments);this.getModel("Transport").setHeaders({"sap-language":sap.ushell.Container.getUser().getLanguage(),"sap-client":sap.ushell.Container.getLogonSystem().getClient()});},getTransportHelper:function(){if(!this._oTransportHelper){this._oTransportHelper=new T(this.getModel("Transport"));}return this._oTransportHelper;},changeHandler:function(){},attachChangeEventHandler:function(c){this.changeHandler=c;},change:function(v){if(this.changeHandler){this.changeHandler(v);}},_setComponentData:function(c){this.oComponentData=Object.assign({},this.oComponentData,c);},reset:function(c){var v=this.getRootControl();this._setComponentData(c);v.setModel(this.getModel("Transport"),"PackageModel");v.setModel(new J({packageInputReadOnly:false,package:"",workbenchRequest:"",workbenchRequired:false}));},decorateResultWithTransportInformation:function(p){p=p||{};p.metadata={devclass:this.getRootControl().getModel().getProperty("/package"),transportId:this.getRootControl().getModel().getProperty("/workbenchRequest")};return p;},showTransport:function(p){return this.getTransportHelper().checkShowTransport(p);},showLockedMessage:function(p){return this.getTransportHelper().checkShowLocked(p);}});});
