sap.ui.define(["sap/ui/base/Object","sap/suite/ui/generic/template/js/StableIdHelper","sap/suite/ui/generic/template/lib/multipleViews/MultipleViewsHandler","sap/base/util/extend"],function(B,S,M,e){"use strict";function g(c,t,s){var G=Object.create(null);var m=Object.create(null);function o(i){var j=f(i);if(j){j.updateCounts();}}function a(i,j){var k=f(i);if(k){k.onRebindContentControl(j);}}function f(i){return m[i];}function b(i){var I=t.oCommonUtils.getControlInformation(i,null,true);return I&&I.searchField&&I.searchField.getValue();}function d(){var i;for(var j in G){var k=G[j];var l=k.getSelectedKey();i=i||Object.create(null);i[j]=l;}return i&&{data:i,lifecycle:{permanent:true,pagination:true}};}function A(i,I){if(I){return;}for(var j in G){var k=G[j];var l=i&&i[j];k.setSelectedKey(l);}}function h(i){var I=S.getStableId({type:"ObjectPageTable",subType:"SmartTable",sFacet:i});return c.byId(I);}function F(i){var j=i.facetId;var k=h(j);var l=f(k.getId());if(!l){return null;}return l.formatItemTextForMultipleView(i);}(function(){var i=c.getOwnerComponent().getSections();for(var j in i){var k=i[j];if(k.quickVariantSelection){var l=h(j);var n=S.getStableId({type:"ObjectPageTable",subType:"SegmentedButton",sFacet:j});var p=S.getStableId({type:"ObjectPageTable",subType:"VariantSelection",sFacet:j});var q=c.byId(n)||c.byId(p);var C={manifestSettings:k.quickVariantSelection,pathInTemplatePrivateModel:"/objectPage/multipleViews",smartControl:l,sectionKey:j,switchingControl:q,appStateChange:s,isDataToBeShown:function(){return true;},adaptRefreshRequestMode:function(R){return R;}};C.getSearchValue=b.bind(null,l);var T=t.oComponentUtils.getTemplatePrivateModel();if(!T.getProperty(C.pathInTemplatePrivateModel)){T.setProperty(C.pathInTemplatePrivateModel,Object.create(null));}C.pathInTemplatePrivateModel="/objectPage/multipleViews/"+j;var r=new M(c,t,C);G[j]=r;m[l.getId()]=r;}}})();return{onDataRequested:o,onRebindContentControl:a,getCurrentState:d,applyState:A,formatItemTextForMultipleView:F};}return B.extend("sap.suite.ui.generic.template.ObjectPage.controller.MultipleViewsHandler",{constructor:function(c,t,s){e(this,g(c,t,s));}});});
