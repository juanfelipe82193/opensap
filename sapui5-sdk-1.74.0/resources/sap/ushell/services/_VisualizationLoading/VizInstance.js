// Copyright (c) 2009-2017 SAP SE, All Rights Reserved
sap.ui.define(["sap/m/library","sap/ui/core/Control"],function(m,C){"use strict";var L=m.LoadState;var v=C.extend("sap.ushell.ui.launchpad.VizInstance",{metadata:{library:"sap.ushell",properties:{visualizationId:{type:"string"},type:{type:"string"},vizType:{type:"string"},state:{type:"string",defaultValue:L.Loading},previewMode:{type:"boolean",defaultValue:false},catalogTile:{type:"any"},title:{type:"string"},subtitle:{type:"string"},icon:{type:"string"},footer:{type:"string"},targetURL:{type:"string"},adapter:{type:"any"},keywords:{type:"string[]",defaultValue:[]},width:{type:"int",defaultValue:1},height:{type:"int",defaultValue:1}},aggregations:{innerControl:{type:"sap.ui.core.Control",multiple:false,hidden:true}},events:{press:{}}},renderer:{apiVersion:2,render:function(r,a){r.openStart("div",a);r.openEnd();r.renderControl(a.getInnerControl());r.close("div");}}});v.prototype.getLayout=function(){var w=this.getWidth(),h=this.getHeight();var s=(Object.getPrototypeOf(this).getMetadata().getName()==="sap.ushell.ui.launchpad.VizInstanceCard")?1:2;var l={columns:w*s,rows:h*s};return l;};v.prototype.load=function(a){if(!this.oInnerControl&&this.oControlPromise){return this.oControlPromise;}return new Promise(function(r,b){if(this.oInnerControl){r(this.oInnerControl);return;}this._setVizViewControlPromise(a);this.oControlPromise.then(function(V){this.setAggregation("innerControl",V,false);r(V);}.bind(this)).catch(b);}.bind(this));};v.prototype._setVizViewControlPromise=function(){this.oControlPromise=Promise.resolve({});};v.prototype._getInnerControlPromise=function(){return this.oControlPromise;};return v;});
