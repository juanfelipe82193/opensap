// Copyright (c) 2009-2017 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/thirdparty/jquery","sap/m/Button","sap/m/Dialog","sap/ushell/resources","sap/ui/core/ElementMetadata","sap/m/library","sap/ushell/library","./EmbeddedSupportErrorMessageRenderer"],function(q,B,D,r,E,m){"use strict";var a=m.DialogType;var b=D.extend("sap.ushell.ui.launchpad.EmbeddedSupportErrorMessage",{metadata:{library:"sap.ushell",events:{afterClose:{}}}});b.prototype.open=function(){var c,C;this.translationBundle=r.i18n;c=new B({id:E.uid("supportBtn"),text:this.translationBundle.getText("contactSupportBtn"),press:function(){this.close();sap.ui.require(["sap/ushell/ui/footerbar/ContactSupportButton"],function(d){this.oContactSupport=new d("ContactSupportErrorMsg",{visible:true});if(this.oContactSupport){this.oContactSupport.showContactSupportDialog();this.oContactSupport.destroy();}});}.bind(this)});C=new B({id:E.uid("closeBtn"),text:this.translationBundle.getText("close"),press:function(){this.close();}.bind(this)});this.setType(a.Message);this.setIcon("sap-icon://alert");this.setRightButton(C);this.setLeftButton(c);this._addStyleClassToContent();this.addStyleClass("sapMMessageBoxError");this.attachAfterClose(function(){this.destroy();}.bind(this));if(D.prototype.open){D.prototype.open.apply(this,arguments);}};b.prototype._addStyleClassToContent=function(){var c=this.getContent(),C,i;for(i in c){C=c[i];if(C.getMetadata().getName()==="sap.m.Text"&&!C.aCustomStyleClasses){C.addStyleClass("sapMMsgBoxText");}}};b.prototype.onAfterRendering=function(){var l,j=q("#EmbeddedSupportErrorMessage").eq(0);if(j){l=j.attr("aria-labelledby");j.attr("aria-labelledby",l+this.getContent()[0].getId());}};return b;});
