/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2017 SAP SE. All rights reserved
    
 */
sap.ui.define(["sap/ui/model/json/JSONModel"],function(J){"use strict";var T={displayTableSettings:function(e){var g=function(){var p=e.getSource().getParent(),P=p?p._oToolbar:undefined;if(P&&Array.isArray(P._aAllCollections)){var c=P._aAllCollections;for(var k=0;k<c.length;k++){var i=c[k];if(Array.isArray(i)){for(var n=0;n<i.length;n++){if(i[n].sId===p.sId+"-settings"){return i[n];}}}}}return undefined;},s=g();if(s){s.firePress();}},executeConditionalActionShortcut:function(b,s){var a=s.getParent().getActions().find(function(e){return e.getId().endsWith(b);});if(a&&a.getVisible()&&a.getEnabled()){a.firePress();}},selectAllRows:function(e){var m=e.getSource().getParent(),t=m.getType().getMetadata().getName(),o=m._oTable;if(t==="sap.ui.mdc.table.GridTableType"){if(o.getSelectionMode()!==sap.ui.table.SelectionMode.None){var p=o.getPlugin("sap.ui.table.plugins.MultiSelectionPlugin"),n=p.getSelectableCount();if(n!==p.getSelectedCount()){p.addSelectionInterval(0,n-1);}else{p.clearSelection();}}}},setContexts:function(t,m,p,d,D,c){var a=JSON.parse(c);var s=t.getSelectedContexts();var b=false;var e=[];var u=[];var l=[];var L={};var M;var C="/$contexts/"+p;var o=t.getModel(m);if(!o){o=new J();t.setModel(o,"$contexts");}L.aUnsavedContexts=[];L.aLockedContexts=[];o.setProperty("/$contexts",{});o.setProperty(C,{selectedContexts:s,numberOfSelectedContexts:s.length,deleteEnabled:true,deletableContexts:[],unSavedContexts:[],lockedContexts:[]});for(var i=0;i<s.length;i++){var S=s[i];var f=S.getObject();for(var k in f){if(k.indexOf("#")===0){var A=k;A=A.substring(1,A.length);M=o.getProperty(C);M[A]=true;o.setProperty(C,M);}}M=o.getProperty(C);if(d!="undefined"){if(S.getProperty(d)){if(D!=="undefined"&&(f.IsActiveEntity===true&&f.HasDraftEntity===true)){L=g(f,S);}else{e.push(S);L.isDeletable=true;}}M["deleteEnabled"]=L.isDeletable;}else if(D!=="undefined"&&(f.IsActiveEntity===true&&f.HasDraftEntity===true)){L=g(f,S);}else{e.push(S);}}function g(f,S){if(f.DraftAdministrativeData.InProcessByUser){l.push(S);}else{u.push(S);b=true;}return{aLockedContexts:l,aUnsavedContexts:u,isDeletable:b};}for(var h in a){o.setProperty(C+"/"+h,false);var P=a[h];for(var i=0;i<s.length;i++){var S=s[i];var f=S.getObject();if(P===null&&!!f["#"+h]){o.setProperty(C+"/"+h,true);break;}else if(!!f[P]){o.setProperty(C+"/"+h,true);break;}}}M["deletableContexts"]=e;M["unSavedContexts"]=L.aUnsavedContexts;M["lockedContexts"]=L.aLockedContexts;M["controlId"]=t.getId();o.setProperty(C,M);}};return T;},true);
