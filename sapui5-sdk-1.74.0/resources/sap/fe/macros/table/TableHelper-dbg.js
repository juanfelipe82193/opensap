/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2017 SAP SE. All rights reserved
    
 */
sap.ui.define(["sap/fe/macros/CommonHelper"],function(C){"use strict";var T={createButtonTemplating:function(t){var o=t.collection,s=t.collection.getPath();if(!t.onCreate||t.creationMode==="CreationRow"){return false;}else if(t.showCreate!==undefined&&t.showCreate!==null){return t.showCreate;}else if(o.getObject(s+"@com.sap.vocabularies.Session.v1.StickySessionSupported/NewAction")){return(o.getObject(s+"@com.sap.vocabularies.Session.v1.StickySessionSupported/NewAction@Org.OData.Core.V1.OperationAvailable")!==false);}else if(o.getObject(s+"@com.sap.vocabularies.Common.v1.DraftRoot/NewAction")){return(o.getObject(s+"@com.sap.vocabularies.Common.v1.DraftRoot/NewAction@Org.OData.Core.V1.OperationAvailable")!==false);}return(o.getObject(s+"@Org.OData.Capabilities.V1.InsertRestrictions/Insertable")!==false);},deleteButtonTemplating:function(t){var o=t.collection;if(t.selectedContextsModel&&(t.namedBindingId||t.id)&&t.onDelete){if(t.showDelete!==undefined&&t.showDelete!==null){return t.showDelete;}return!(o.getObject(o.getPath()+"@Org.OData.Capabilities.V1.DeleteRestrictions/Deletable")===false);}return false;},addOperationAvailableFieldsToSelectQuery:function(l,c){var s=[],a="";l.forEach(function(r){var A=r.Action;if(r.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"&&A.indexOf("/")<0&&!r.Determining){if(C.getActionPath(c.context,false,A,true)===null){s.push(A);}else{var R=C.getActionPath(c.context,false,A);if(R.sProperty){s.push(R.sProperty.substr(R.sBindingParameter.length+1));}}}});a=s.join(",");return a;},getOperationAvailableMap:function(l,c){var a={},r;l.forEach(function(R){var A=R.Action;if(R.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"&&A.indexOf("/")<0&&!R.Determining){r=C.getActionPath(c.context,false,A,true);if(r===null){a[A]=null;}else{r=C.getActionPath(c.context,false,A);if(r.sProperty){a[A]=r.sProperty.substr(r.sBindingParameter.length+1);}}}});return JSON.stringify(a);},getLineItemCollection:function(c){var o,m,e;if(c){o=c.getObject("/collection");if(o){m=o.getModel();}if(m&&m.isA("sap.ui.model.odata.v4.ODataMetaModel")){e=o.getPath();return m.getMetaContext(e+"/@com.sap.vocabularies.UI.v1.LineItem");}}},getCollectionFields:function(e,m){var p=[],o,E;E=m.getObject(e+"/");for(var k in E){o=E[k];if(o&&o.$kind==="Property"){p.push({name:k,label:m.getObject(e+"/"+k+"@com.sap.vocabularies.Common.v1.Label"),type:o.$Type});}}return p;},getRestrictionsPath:function(c,o){var s=!o?[]:o.split(",");if(c["@Org.OData.Capabilities.V1.DeleteRestrictions"]&&c["@Org.OData.Capabilities.V1.DeleteRestrictions"].Deletable.$Path){s.push(c["@Org.OData.Capabilities.V1.DeleteRestrictions"].Deletable.$Path);}return!s.length?"":", $select: '"+s.join(",")+"'";},getColumnWidth:function(a,d,f,i,D,n){var w,h=false,I=typeof a!=="undefined"&&(a.hasOwnProperty("@Org.OData.Measures.V1.Unit")||a.hasOwnProperty("@Org.OData.Measures.V1.ISOCurrency"));if(C.getEditMode(a,d,f,i)==="Display"){h=a&&a.hasOwnProperty("@com.sap.vocabularies.Common.v1.Text");if(D==="Edm.String"&&!h&&n&&n<10){n+=0.75;if(n<3){n=3;}w=n+"em";}}else if(D==="Edm.Date"||D==="Edm.DateTimeOffset"){w="9em";}else if(I){w="18em";}else if(D==="Edm.Boolean"){w="8em";}else if(a&&a.hasOwnProperty("@com.sap.vocabularies.UI.v1.IsImageURL")&&a.hasOwnProperty("@com.sap.vocabularies.UI.v1.IsImageURL")===true){w="7em";}return w;},getMarginClass:function(c,d,v){if(JSON.stringify(c[c.length-1])==JSON.stringify(d)){if(v=="com.sap.vocabularies.UI.v1.VisualizationType/Rating"){return"sapUiNoMarginBottom sapUiNoMarginTop";}return"";}else{if(v=="com.sap.vocabularies.UI.v1.VisualizationType/Rating"){return"sapUiNoMarginTop";}return"sapUiTinyMarginBottom";}},isStickySessionSupported:function(c,i){var m=i.context.getModel().getMetaPath(i.context).split("/")[1];var M=i.context.getModel().getObject("/"+m+"@com.sap.vocabularies.Session.v1.StickySessionSupported");return M?true:false;}};T.getOperationAvailableMap.requiresIContext=true;T.addOperationAvailableFieldsToSelectQuery.requiresIContext=true;return T;},true);
