/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2017 SAP SE. All rights reserved
    
 */
sap.ui.define(["sap/fe/macros/ValueListHelper","sap/fe/macros/field/FieldHelper","sap/m/MessageToast","sap/base/Log","sap/fe/macros/CommonHelper"],function(V,F,M,L,C){"use strict";var w=V.getWaitForPromise();var a={launchValueHelpFromActionParameterDialog:function(p,f,s,c){var m=f.getModel(),o=m.getMetaModel(),W=f.getContent&&f.getContent(),b=W.getId(),t=W&&W.getTable&&W.getTable(),d=f&&f.getFilterBar&&f.getFilterBar(),e=t&&d,P=o.getObject(p+"@sapui.name"),g;if(t){g=s?"416px":"Auto";t.setContextualWidth(g);}if(w[b]||e){return;}else{if(!t){w[b]=true;}V.getValueListInfo(f,o,p).then(function(v){if(c){var h,i,j=v.valueListInfo;if(!c.$displayMode){c.$displayMode={};}h=j.$model.getMetaModel().getObject(v.fieldPropertyPath+"@");i=j.$model.getMetaModel().getObject("/"+j.CollectionPath+"/$Type@");c.$displayMode[P]=F.displayMode(h,i);}return V.createValueHelpDialog(p,f,t,d,v,s);}).catch(function(h){var i=h.status&&h.status===404?"Metadata not found ("+h.status+") for value help of property "+p:h.message;L.error(i);M.show(i);});}},getTargetCollection:function(c){var p=c.getPath();if(c.getObject("$kind")==="EntitySet"||c.getObject("$kind")==="Action"||c.getObject("0/$kind")==="Action"){return p;}p="/"+p.split("/").filter(Boolean).join("/$NavigationPropertyBinding/");return"/"+c.getObject(p);}};return a;},true);
