<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>SAPUI5 Flexibility: Enable Your App for UI Adaptation</title><link rel="icon" href="themes/sap-default/img/favicon.ico" type="image/x-icon"><link rel="shortcut icon" href="themes/sap-default/img/favicon.ico"><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="abstract" content="Here&apos;s what you have to consider when developing apps that support UI adaptation."><meta name="description" content="Here&apos;s what you have to consider when developing apps that support UI adaptation."><meta name="content category" content="development"><meta name="target-language" content="zh-CN"><script type="text/javascript">var d4p = {"relativePath":'',"dev":false,"debug":false,"draft":false,"nextTopicHref":"de9fd55c69af4b46863f5d26b5d796c4.html","previousTopicHref":"c75861e33942410d9ac77322763db203.html"}</script><link rel="stylesheet" type="text/css" media="screen, projection" href="themes/sap-default/css/style.css"><script type="text/javascript">
      
        d4p.cssGridPath = d4p.dev ? 'html5-themes/modules/960-Responsive-Grid/css/' : 'themes/dita-d4p-classic/css/';
        var ADAPT_CONFIG = {
          // Where is your CSS?
          path: d4p.relativePath + d4p.cssGridPath,

          // false = Only run once, when page first loads.
          // true = Change on window resize and page tilt.
          dynamic: true,

          // Optional callback... myCallback(i, width)
          callback: doc_resize,

          // First range entry is the minimum.
          // Last range entry is the maximum.
          // Separate ranges by "to" keyword.
          range: [
             // small (size-0)
            '0px    to 760px  =',
             // medium (size-1, size-2)
            '760px  to 980px  = ',
            '980px  to 1270px = ',
             // large (size-3, size-5)
            '1270px to 1600px = ',
            '1600px to 1940px = ',
             // extra large (size-6)
            '1940px to 2540px = ',
            '2540px           = '
          ]
        };

        function doc_resize(i, width)
        {
          d4p.setBodyClassfunction(i, width);
        }


        
      </script><script type="text/javascript" src="toc-info.js"></script><script type="text/javascript" src="themes/sap-default/js/script.js"></script>
		<!--[if lt IE 9]>
			<script>
			  var e = ("abbr,article,aside,audio,canvas,datalist,details," +
			    "figure,footer,header,hgroup,mark,menu,meter,nav,output," +
			    "progress,section,time,video").split(',');
			  for (var i = 0; i < e.length; i++) {
			    document.createElement(e[i]);
			  }
			</script>
		<![endif]-->
        
    <script>
      function addLoadEvent(func) {
        var oldonload = window.onload;
        if (typeof window.onload != 'function') {
          window.onload = func;
        } else {
          window.onload = function() {
            if (oldonload) {
              oldonload();
        }
        func();
       }
     }
     }
      
    addLoadEvent(function() { prettyPrint();
if ($('#local-navigation').length) {
        $('#local-navigation').navigation();
    }


});
      
    </script>
     <script type="text/javascript" src="js/prettify.js"> </script><script id="search-processing" type="text/javascript" src="js/search-processing.js"> </script><script>function handleAreaClick(oArea) {window.parent.location.href = oArea.href;}</script><link type="text/css" rel="stylesheet" href="css/overrides.css"></head><body class="en-us sap-default centered navigation-default toc-injection enumeration-disabled" style="font-family: &apos;72&apos;, Arial, Helvetica, sans-serif;"><div id="d4h5-main-container" class="container_12" role="application"><ul id="page-links" class="hidden"><li><a id="skip-to-content" href="#d4h5-main-content">Skip to content</a></li><li><a id="skip-to-localnav" href="#local-navigation">Skip to navigation</a></li><li><a id="skip-to-footer" href="#footer-container">Skip to footer</a></li></ul><div id="d4h5-section-container" class="grid_12" style="padding-top: 0;"><div id="d4h5-main-content" class="grid_8 alpha omega" style="margin: 0 0.5em;"><section><div id="content-toolbar" class="toolbar hide-for-small"></div><div class="page concept  - topic-topic concept-concept " id="loiof1430c0337534d469da3a56307ff76af"><h1 class="title topictitle1" hidden>SAPUI5 Flexibility: Enable Your App for UI Adaptation</h1><div class="body conbody"><p class="shortdesc" hidden>Here&apos;s what you have to consider when developing apps that support UI adaptation.</p>
<div class="section" id="loiof1430c0337534d469da3a56307ff76af__section_cdt_btd_ygb">
<p class="p"> UI adaptation is a feature of <span class="ph pname">SAPUI5</span> flexibility that allows key users
without technical knowledge to easily make UI changes for all users of an app, end users to personalize controls, and developers to
extend the UIs of SAPUI5 applications. For more information, see <a class="xref" href="../../#/topic/a8e55aa2f8bc4127923b20685a6d1621.html" title="Modification-free, cost-saving, easy to use, and performant: Discover the new flexibility when adapting SAP Fiori UIs using SAPUI5 flexibility." target="_top">SAPUI5 Flexibility: Adapting UIs Made Easy</a>.</p>
<p class="p">You can enable your application for UI adaptation by following a few simple steps.</p>
</div>
<div class="section" id="loiof1430c0337534d469da3a56307ff76af__section_syd_hwt_5hb"><section class="section" type="Use the flexEnabled Flag"><h2 class="section_title" style="font-size: 1.15em;">Use the <samp class="ph codeph">flexEnabled</samp> Flag</h2><p class="p">This flag in the <samp class="ph codeph">manifest.json</samp> indicates
that your application is enabled for UI adaptation. As of app descriptor schema version 12 (<samp class="ph codeph">_version: 1.11</samp>), which
was introduced with SAPUI5 version 1.56, the <samp class="ph codeph">flexEnabled</samp> flag in the <samp class="ph codeph">sap.ui5</samp> section of the
<samp class="ph codeph">manifest.json</samp> indicates if the application supports UI adaptation.</p><p class="p">If you set this flag, make sure that you
provide stable IDs and follow the rules and guidance on this page.</p><div class="sectiondiv subsection">
<p class="p subsectiontitle">Example</p>
<p class="p">Please note that the <samp class="ph codeph">_version</samp> property must be at least <samp class="ph codeph">1.11.0</samp>.</p>
<div class="p">
<pre class="pre codeblock prettyprint lang-json">{
    &quot;_version&quot;: &quot;1.11.0&quot;
    [&#x2026;]
    &quot;sap.ui5&quot;: {
        &quot;flexEnabled&quot;: true,
    [&#x2026;]
}
</pre>
</div>
<div class="p">
<aside class="note caution" aria-labelledby="note_0_title"><div class="title" id="note_0_title"><strong>Caution</strong></div>
<p class="p">If you set the flag to <samp class="ph codeph">false</samp>, your application won&#x2019;t work with any UI adaptation tool. In certain
scenarios it can make sense to do this, for example, for a beta release when you still expect major changes for the app.
However, do not change the <samp class="ph codeph">flexEnabled</samp> flag to <samp class="ph codeph">false</samp>
<span class="ph emphasis emphasis">after</span> your application has been delivered. This would lead to incompatibilities and regressions if a
key user has adapted the UI in the meantime.</p></aside>
</div>
<aside class="note tip" aria-labelledby="note_1_title"><div class="title" id="note_1_title"><strong>Tip</strong></div>
<p class="p">In case you want certain parts of your app to remain unchanged, you can restrict adaptation for the corresponding controls, see
<a class="xref" href="../../#/topic/de9fd55c69af4b46863f5d26b5d796c4.html#loiode9fd55c69af4b46863f5d26b5d796c4__section_restrictadaptation" target="_top">Restrict Adaptation for Certain
Controls</a>.</p></aside>
</div></section></div>
<div class="section" id="loiof1430c0337534d469da3a56307ff76af__section_sxm_gyt_5hb"><section class="section" type="Very Important: Use Stable IDs"><h2 class="section_title" style="font-size: 1.15em;">Very Important: Use Stable IDs</h2>

<p class="p">Stable IDs are used to identify the controls that can be changed via UI adaptation or personalization. For this reason, every control
and view that you use must have a stable ID. For more information, see <a class="xref" href="../../#/topic/f51dbb78e7d5448e838cdc04bdf65403.html" title="Stable IDs are IDs for controls, elements, or components that you set yourself in the respective id property or attribute as opposed to IDs that are generated by SAPUI5. Stable means that the IDs are concatenated with the application component ID and do not have any auto-generated parts." target="_top">Stable IDs: All You Need to Know</a>. Here,
you also find information on how to check if all your IDs are stable.</p>
<p class="p">If your app is based on <span class="ph pname">SAP Fiori</span> elements, it automatically generates IDs for
its controls. You only have to set stable IDs if you use extension points to modify it, for example to add an additional view.</p>
<aside class="note caution" aria-labelledby="note_2_title"><div class="title" id="note_2_title"><strong>Caution</strong></div>
<p class="p">Never change the IDs when you&apos;re creating the next version of your app if the app was already delivered. Otherwise you&apos;d risk
inconsistencies and the loss of UI changes that a key user might have done in the delivered version.</p></aside>
<aside class="note tip" aria-labelledby="note_3_title"><div class="title" id="note_3_title"><strong>Tip</strong></div>
<p class="p">With the <samp class="ph codeph">Stable control IDs are required for SAPUI5 flexibility services</samp> rule in the Support Assistant, you can
check whether all controls have stable IDs. For more information, see <a class="xref" href="../../#/topic/f51dbb78e7d5448e838cdc04bdf65403.html" title="Stable IDs are IDs for controls, elements, or components that you set yourself in the respective id property or attribute as opposed to IDs that are generated by SAPUI5. Stable means that the IDs are concatenated with the application component ID and do not have any auto-generated parts." target="_top">Stable IDs: All You Need to Know</a>.</p></aside>
</section></div>
<div class="section" id="loiof1430c0337534d469da3a56307ff76af__section_emz_s3n_2jb"><section class="section" type="Use SAPUI5 Controls Supported by UI Adaptation"><h2 class="section_title" style="font-size: 1.15em;">Use SAPUI5 Controls Supported by UI Adaptation</h2>

<p class="p">More than 60 controls, such as forms, pages, tool bars and input elements support UI adaptation, and the number is growing. </p>
<p class="p"><span class="ph">If you want to know whether a control is enabled for key user
adaptation, go to the <a class="xref" href="../../#/controls" target="_top" alt="#/controls" title="#/controls">Samples</a>.</span>
Pick a control, open the sample, and choose <span class="SAPiconsV3-6">&#xE002;</span> (Adapt UI) at the top right. If UI elements in the sample are highlighted when you hover over or select them, it&apos;s an
indicator that the control is enabled for UI adaptation. You can also try out the UI adaptation features directly in the sample.</p>
<aside class="note" aria-labelledby="note_4_title"><div class="title" id="note_4_title"><strong>Note</strong></div>
<p class="p">The table, filter bar and chart controls from the <samp class="ph codeph">sap.ui.comp</samp> library do not support key user adaptation. However,
end users can personalize these controls on the UI and save individual views. If you use a
<samp class="ph codeph">sap.ui.comp.VariantManagement</samp> control, your users can also share personalized views with other end users. For
more information see <a class="xref" href="../../#/topic/06a4c3ac1cf545a7b51864e7f3aa02da.html" title="The sap.ui.comp.smartvariants.SmartVariantManagement control provides an interface to enable a simple integration of the sap.ui.comp.variants.VariantManagement control and access to the layered repository of SAPUI5 flexibility for easy communication." target="_top">Smart Variant Management</a>.</p></aside>
</section></div>
<div class="section" id="loiof1430c0337534d469da3a56307ff76af__section_k3y_vmn_2jb"><section class="section" type="Controller Code"><h2 class="section_title" style="font-size: 1.15em;">Controller Code</h2>

<div class="p">Normally, UI changes should win over binding and application coding. There are mechanisms make sure that this usually the case:<ul class="ul" id="loiof1430c0337534d469da3a56307ff76af__ul_sjk_ccp_2jb">
<li class="li">For controls in the XML view, changes are applied during the XML view processing.</li>
<li class="li">For controls that are created by your controller code, e.g. controls that are part of a group and are later placed inside an existing
control, the changes are applied when the control is added to the SAPUI5 control tree.</li>
</ul></div>
<p class="p">However, with too many complexities or dynamics in the controller code, you can inadvertently overrule changes done by the key user.
Example: If a key user removes (i.e., hides) a control and your controller code overwrites its visibility property afterwards, the key
user change doesn&apos;t have an effect. If you cannot avoid this case because of some app-specific reasons, you should at least restrict
the availability of certain actions as described under <a class="xref" href="../../#/topic/de9fd55c69af4b46863f5d26b5d796c4.html#loiode9fd55c69af4b46863f5d26b5d796c4__section_restrictadaptation" target="_top">Restrict Adaptation for Certain Controls</a>.</p>
<p class="p">Keep in mind that the positions of controls can change if the key user moves them on the UI. Controls might end up in different
aggregations and at different index positions from what you specified. Therefore, you should only access controls by their ID. </p>
<div class="p">
<aside class="note" aria-labelledby="note_5_title"><div class="title" id="note_5_title"><strong>Note</strong></div>
<p>If you access <samp class="ph codeph">ObjectPageSections</samp> and controls within <samp class="ph codeph">ObjectPageSections</samp>, they might be stashed
when the key user removes them. This means that the control is not processed and therefore not instantiated. Your code shouldn&#x2019;t
break in this case.</p></aside>
</div>
<p class="p">It&apos;s okay to create additional controls dynamically, for example, as a result of user interaction. If you dynamically add controls to
the UI, make sure to set all properties before you add them to an aggregation of a parent control, ideally as part of the constructor.
With this, you prevent that changes that key user made to the control are overridden.</p>
<aside class="note tip" aria-labelledby="note_6_title"><div class="title" id="note_6_title"><strong>Tip</strong></div>
<p>Use data binding whenever possible to express UI state changes.</p></aside>
</section></div>
<div class="section" id="loiof1430c0337534d469da3a56307ff76af__section_hfx_t14_2jb"><section class="section" type="How Can I Change My App Without Breaking the Key Users Changes?"><h2 class="section_title" style="font-size: 1.15em;">How Can I Change My App Without Breaking the Key Users Changes?</h2>

<div class="p">In general, you can change your app without any problems, as long as you keep the following in mind:<ul class="ul" id="loiof1430c0337534d469da3a56307ff76af__ul_s4c_y14_2jb">
<li class="li">Don&#x2019;t change control IDs. If you change control IDs, the app will still start, but any existing changes related to this ID
will not be applied anymore.</li>
<li class="li">Don&#x2019;t change view hierarchies, because the control IDs depend on the view IDs or fragment IDs.</li>
<li class="li">Don&#x2019;t remove controls that had a stable ID before.</li>
</ul></div>
</section></div>
<div class="section" id="loiof1430c0337534d469da3a56307ff76af__section_jfn_ctd_ygb"><section class="section" type="Something Isn&#x2019;t Working Like It Should?"><h2 class="section_title" style="font-size: 1.15em;">Something Isn&#x2019;t Working Like It Should?</h2>

<div class="p">Please check the troubleshooting information.<aside class="note caution" aria-labelledby="note_7_title"><div class="title" id="note_7_title"><strong>Caution</strong></div>
<p>UI changes, similar to any UI coding, cannot replace back-end
validations and authorizations. For example, when an action is hidden via a change, the change processing could be blocked or the
action could be reached by the browser console, so that the action could still be triggered.</p></aside>For more information, see <a class="xref" href="../../#/topic/35274280504f42cd87cc4fd3d403ca91.html" title="Click the sections below, to find tips and solutions to the most common problems." target="_top">Troubleshooting</a>.</div>
<p class="p">You can also check out our <a class="xref" href="../../#/topic/de9fd55c69af4b46863f5d26b5d796c4.html" target="_top">Enabling UI Adaptation: Other Things to Consider</a> page for additional tips and tricks..</p>
<p class="p">For more information about how key user adaptation works for key users and how it gets enabled in the <span class="ph pname">SAP Fiori launchpad</span>, search for <kbd class="ph userinput">Adapting SAP Fiori UIs at Runtime</kbd>
and <kbd class="ph userinput">Enabling UI Adaptation at Runtime</kbd> in the documentation for your <a class="xref" href="https://help.sap.com/viewer/p/SAP_NETWEAVER" target="_blank" alt="https://help.sap.com/viewer/p/SAP_NETWEAVER" title="https://help.sap.com/viewer/p/SAP_NETWEAVER">SAP NetWeaver</a> version on the SAP Help Portal.</p>
</section></div>
</div><div class="related-links"> <div class="relinfo"><div class="relinfotitle ">Related Information</div><div><a class="link" href="../../#/topic/a8e55aa2f8bc4127923b20685a6d1621.html" title="Modification-free, cost-saving, easy to use, and performant: Discover the new flexibility when adapting SAP Fiori UIs using SAPUI5 flexibility." target="_top">SAPUI5 Flexibility: Adapting UIs Made Easy</a></div><div><a class="link" href="../../#/topic/be0cf40f61184b358b5faedaec98b2da.html" title="The descriptor for applications, components, and libraries is inspired by the Web Application Manifest concept introduced by the W3C. The descriptor provides a central, machine-readable and easy-to-access location for storing metadata associated with an application, an application component, or a library." target="_top">Descriptor for Applications, Components, and Libraries</a></div><div><a class="link" href="../../#/topic/f51dbb78e7d5448e838cdc04bdf65403.html" title="Stable IDs are IDs for controls, elements, or components that you set yourself in the respective id property or attribute as opposed to IDs that are generated by SAPUI5. Stable means that the IDs are concatenated with the application component ID and do not have any auto-generated parts." target="_top">Stable IDs: All You Need to Know</a></div><div><a class="link" href="https://help.sap.com/viewer/825270ffffe74d9f988a0f0066ad59f0/CF/en-US/94f024b04a6245d8ba9e02ee2facc527.html" target="_blank" alt="https://help.sap.com/viewer/825270ffffe74d9f988a0f0066ad59f0/CF/en-US/94f024b04a6245d8ba9e02ee2facc527.html" title="https://help.sap.com/viewer/825270ffffe74d9f988a0f0066ad59f0/CF/en-US/94f024b04a6245d8ba9e02ee2facc527.html">Adaptation Projects for SAP Fiori Elements-Based Applications</a></div></div></div></div></section><div class="clear"></div>
</div><div class="clearfix"></div></div></div><div class="clearfix"></div><div id="footer-container" class="grid_12"><footer>
	<div id="custom-footerSpacer"></div>
	
</footer>
</div></body></html>