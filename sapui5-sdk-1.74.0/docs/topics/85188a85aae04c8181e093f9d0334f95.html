<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Providing Editable Key Fields</title><link rel="icon" href="themes/sap-default/img/favicon.ico" type="image/x-icon"><link rel="shortcut icon" href="themes/sap-default/img/favicon.ico"><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="abstract" content="Users cannot edit key fields in draft applications. You can introduce an additional key field that is editable."><meta name="description" content="Users cannot edit key fields in draft applications. You can introduce an additional key field that is editable."><meta name="content category" content="development"><meta name="target-language" content="zh-CN"><script type="text/javascript">var d4p = {"relativePath":'',"dev":false,"debug":false,"draft":false,"nextTopicHref":"84e4f8967bf643c9b81d4d84cefdf367.html","previousTopicHref":"fd3950a0b251439ab8cd4153d64844b6.html"}</script><link rel="stylesheet" type="text/css" media="screen, projection" href="themes/sap-default/css/style.css"><script type="text/javascript">
      
        d4p.cssGridPath = d4p.dev ? 'html5-themes/modules/960-Responsive-Grid/css/' : 'themes/dita-d4p-classic/css/';
        var ADAPT_CONFIG = {
          // Where is your CSS?
          path: d4p.relativePath + d4p.cssGridPath,

          // false = Only run once, when page first loads.
          // true = Change on window resize and page tilt.
          dynamic: true,

          // Optional callback... myCallback(i, width)
          callback: doc_resize,

          // First range entry is the minimum.
          // Last range entry is the maximum.
          // Separate ranges by "to" keyword.
          range: [
             // small (size-0)
            '0px    to 760px  =',
             // medium (size-1, size-2)
            '760px  to 980px  = ',
            '980px  to 1270px = ',
             // large (size-3, size-5)
            '1270px to 1600px = ',
            '1600px to 1940px = ',
             // extra large (size-6)
            '1940px to 2540px = ',
            '2540px           = '
          ]
        };

        function doc_resize(i, width)
        {
          d4p.setBodyClassfunction(i, width);
        }


        
      </script><script type="text/javascript" src="toc-info.js"></script><script type="text/javascript" src="themes/sap-default/js/script.js"></script>
		<!--[if lt IE 9]>
			<script>
			  var e = ("abbr,article,aside,audio,canvas,datalist,details," +
			    "figure,footer,header,hgroup,mark,menu,meter,nav,output," +
			    "progress,section,time,video").split(',');
			  for (var i = 0; i < e.length; i++) {
			    document.createElement(e[i]);
			  }
			</script>
		<![endif]-->
        
    <script>
      function addLoadEvent(func) {
        var oldonload = window.onload;
        if (typeof window.onload != 'function') {
          window.onload = func;
        } else {
          window.onload = function() {
            if (oldonload) {
              oldonload();
        }
        func();
       }
     }
     }
      
    addLoadEvent(function() { prettyPrint();
if ($('#local-navigation').length) {
        $('#local-navigation').navigation();
    }


});
      
    </script>
     <script type="text/javascript" src="js/prettify.js"> </script><script id="search-processing" type="text/javascript" src="js/search-processing.js"> </script><script>function handleAreaClick(oArea) {window.parent.location.href = oArea.href;}</script><link type="text/css" rel="stylesheet" href="css/overrides.css"></head><body class="en-us sap-default centered navigation-default toc-injection enumeration-disabled" style="font-family: &apos;72&apos;, Arial, Helvetica, sans-serif;"><div id="d4h5-main-container" class="container_12" role="application"><ul id="page-links" class="hidden"><li><a id="skip-to-content" href="#d4h5-main-content">Skip to content</a></li><li><a id="skip-to-localnav" href="#local-navigation">Skip to navigation</a></li><li><a id="skip-to-footer" href="#footer-container">Skip to footer</a></li></ul><div id="d4h5-section-container" class="grid_12" style="padding-top: 0;"><div id="d4h5-main-content" class="grid_8 alpha omega" style="margin: 0 0.5em;"><section><div id="content-toolbar" class="toolbar hide-for-small"></div><div class="page concept  - topic-topic concept-concept " id="loio85188a85aae04c8181e093f9d0334f95"><h1 class="title topictitle1" hidden>Providing Editable Key Fields</h1><div class="body conbody"><p class="shortdesc" hidden>Users cannot edit key fields in draft applications. You can introduce an additional key
field that is editable.</p>
<aside class="note" aria-labelledby="note_0_title"><div class="title" id="note_0_title"><strong>Note</strong></div>
<p>This topic is relevant only for applications using existing databases. If you build on
a new data model, you can always use an artificial key (typically, a GUID) and model the
fields with a semantical meaning only as non-key fields.</p><p class="p">However, for existing
databases that already use semantically important fields in the key and you need to
be able to change them (maybe only provide them by the user upon creation), changing
the model in such a way would lead to a data conversion with potentially high impact
for customers with huge amounts of data.</p></aside>
<aside class="note" aria-labelledby="note_1_title"><div class="title" id="note_1_title"><strong>Note</strong></div>
<p>This topic is relevant only for applications that use draft handling. For non-draft
applications, as all changes are transported to the backend only in one shot when the
object is saved, from a UI point of view, a change in a key property would just mean,
that the object returned from the save operation is a different instance than
before.</p></aside>
<p class="p">In draft applications, users cannot edit key fields because changes are merged directly
into the draft document, and since the key field is part of the draft document&apos;s
identifier, users would need to navigate to a different document with each merge. From
the user experience point of view, this is not a good solution.</p>
<p class="p">As a workaround, you can introduce an additional field that is editable. In an active
document, this field&apos;s value is always identical to the key field&apos;s value. While users
work on the draft, only the additional field is changed. Only when the draft is
activated, is the additional field&apos;s value transferred to the key field. When activated,
the system automatically navigates from the draft to the active instance.</p>
<p class="p">On the UI, only the additional field is displayed. However, you need to use the key field
for the navigation parameters. It should be consistent with the semantic object
attribute.</p>
<p class="p">If a user navigates to a list report or object page application, and if the navigation
parameters are not selective enough to directly navigate to the object, you need to set
the needed navigation parameters in the filters. As the additional field is used here,
SAP Fiori elements need to map the value of the navigation parameter to the additional
field. To do this, use the
<span class="ph sap-technical-name sap-technical-name">com.sap.vocabularies.Common.v1.EditableFieldFor</span>
annotation. </p>
<aside class="note sap-samplecodeblock samplecode" aria-labelledby="note_2_title"><div class="title" id="note_2_title"><strong>Sample Code</strong></div>
<pre class="pre codeblock prettyprint">&lt;Annotations Target=&quot;STTA_SALES_ORDER_WD_20_SRV.C_STTA_SalesOrderItem_WD_20Type/SalesOrderForEdit&quot;&gt;
                        &lt;Annotation Term=&quot;com.sap.vocabularies.Common.v1..EditableFieldFor&quot; String=&quot;SalesOrder&quot;/&gt;
                  &lt;/Annotations&gt;
                  &lt;Annotations Target=&quot;STTA_SALES_ORDER_WD_20_SRV.C_STTA_SalesOrderItem_WD_20Type/SalesOrderItemForEdit&quot;&gt;
                        &lt;Annotation Term=&quot;com.sap.vocabularies.Common.v1.EditableFieldFor&quot; String=&quot;SalesOrderItem&quot;/&gt;
                  &lt;/Annotations&gt;
</pre></aside>
</div></div></section><div class="clear"></div>
</div><div class="clearfix"></div></div></div><div class="clearfix"></div><div id="footer-container" class="grid_12"><footer>
	<div id="custom-footerSpacer"></div>
	
</footer>
</div></body></html>