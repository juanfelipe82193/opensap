<!DOCTYPE html>
<html>
<head>
<meta http-equiv='X-UA-Compatible' content='IE=edge' />
<meta http-equiv='Content-Type' content='text/html;charset=UTF-8' />
<title>Process Flow test suite page</title>

<!-- UI5 Bootstrap -->
<script src="../../../../../resources/sap-ui-core.js"
  type="text/javascript" id="sap-ui-bootstrap"
  data-sap-ui-libs="sap.m, sap.suite.ui.commons"
  data-sap-ui-theme="sap_belize">
</script>

<script>
  jQuery.sap.initMobile();
  jQuery.sap.require("sap.ui.model.json.JSONModel");
  jQuery.sap.require("sap.m.MessageToast");

  function onNodePress(event) {
    var textToDisplay = "Node clicked: " + event.getParameters().getTitle();
    jQuery.sap.log.info(textToDisplay);
    sap.m.MessageToast.show(textToDisplay, {
      duration: 1000, at: "center center"
    });
  }

  function _createChildNodes(start, end) {
    var aNodes = [];
    for (var i = start; i <= end; i++) {
       aNodes.push(i);
    };
    return aNodes;
  }

  //--------------------------------------------------------------------------------------------------------------
  // ProcessFlow Sample with more than 100 nodes
  //--------------------------------------------------------------------------------------------------------------

  var oDataProcessFlowLanesAndNodes = {
      nodes:
        [
         {id: "1",  lane: "0",  title: "Sales Order 1", titleAbbreviation: "SO 1", children: _createChildNodes(2, 103), state: sap.suite.ui.commons.ProcessFlowNodeState.Positive, stateText: "OK status", focused: true, texts: ["Sales Order Document Overdue long text for the wrap up all the aspects", "Not cleared"]},
         {id: "2",  lane: "0",  title: "Sales Order 2", titleAbbreviation: "SO 1", children: [21], state: sap.suite.ui.commons.ProcessFlowNodeState.Positive, stateText: "OK status", focused: true, texts: ["Sales Order Document Overdue long text for the wrap up all the aspects", "Not cleared"]},
         {id: "21", lane: "2" , title: "Invoice", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Planned},
         {id: "3", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "4", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "5", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "6", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "7", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "8", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "9", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "10", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "11", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "12", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "13", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "14", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "15", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "16", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "17", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "18", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "19", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "20", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "22", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "23", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "24", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "25", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "26", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "27", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "28", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "29", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "30", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "31", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "32", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "33", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "34", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "35", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "36", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "37", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "38", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "39", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "40", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "41", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "42", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "43", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "44", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "45", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "46", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "47", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "48", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "49", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "50", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "51", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "52", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "53", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "54", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "55", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "56", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "57", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "58", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "59", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "60", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "61", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "62", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "63", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "64", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "65", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "66", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "67", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "68", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "69", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "70", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "71", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "72", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "73", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "74", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "75", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "76", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "77", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "78", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "79", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "80", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "81", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "82", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "83", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "84", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "85", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "86", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "87", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "88", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "89", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "90", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "91", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "92", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "93", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "94", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "95", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "96", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "97", lane: "1" , title: "Delivery", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "98", lane: "1" , title: "Delivery 98", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "99", lane: "1" , title: "Delivery 99", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "100", lane: "1" , title: "Delivery 100", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "101", lane: "1" , title: "Delivery 101", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "102", lane: "1" , title: "Delivery 102", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical},
         {id: "103", lane: "1" , title: "Delivery 103", titleAbbreviation: "IP", children: null, state: sap.suite.ui.commons.ProcessFlowNodeState.Critical}
      ],
     lanes:
       [
         {id: "0", icon: "sap-icon://order-status", label: "In Order", position: 0},
         {id: "1", icon: "sap-icon://monitor-payments", label: "In Delivery", position: 1},
         {id: "2", icon: "sap-icon://payment-approval", label: "In Invoice", position: 2}
       ]
     };

  var oModelPf1 = new sap.ui.model.json.JSONModel(oDataProcessFlowLanesAndNodes);
  var oProcessFlow = new sap.suite.ui.commons.ProcessFlow("processflow1", {
    nodes: {
      path: "/nodes",
      template: new sap.suite.ui.commons.ProcessFlowNode({
        nodeId: "{id}",
        laneId: "{lane}",
        title: "{title}",
        children: "{children}",
        state: "{state}",
        titleAbbreviation: "{titleAbbreviation}",
        stateText: "{stateText}",
        texts: "{texts}"
      })
    }, // end of node
    lanes: {
      path: "/lanes",
      template: new sap.suite.ui.commons.ProcessFlowLaneHeader({
        laneId: "{id}",
        iconSrc: "{icon}",
        text: "{label}",
        position: "{position}"
      })
    }, // end of lane
    showLabels: false,
    scrollable: true,
    wheelZoomable: true
  });
  // change the size limit of the model for more than 100 nodes
  oModelPf1.setSizeLimit(105);
  oProcessFlow.setModel(oModelPf1);
  oProcessFlow.attachNodePress(function(oEvent) {
    onNodePress(oEvent);
  });


  /* =========================================================== */
  /* Create Page                   */
  /* =========================================================== */
  var oPage = new sap.m.Page("page", {
      title : "Test Page for sap.suite.ui.commons.ProcessFlow with 103 nodes",
      headerContent : [
          new sap.m.Button({
              text : "Zoom In",
              press : function (oEvent) {
                oProcessFlow.zoomIn();
              }
          }),
          new sap.m.Button({
              text : "Zoom Out",
              press : function (oEvent) {
                  oProcessFlow.zoomOut();
              }
          })
          ],
      content : oProcessFlow
  });

  // create a mobile app embedding the page and place the app into the HTML document
  var app = new sap.m.App("myApp", {
      pages : [oPage]
  }).placeAt("content");
</script>

</head>
<body id="body" class="sapUiBody">
    <div id="content"></div>
</body>
</html>