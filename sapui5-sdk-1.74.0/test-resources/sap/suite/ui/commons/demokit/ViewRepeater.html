<!DOCTYPE HTML>
<html data-sap-ui-dk-category="Controls/Complex" data-sap-ui-dk-controls="sap.suite.ui.commons.ViewRepeater"
      xmlns="http://www.w3.org/1999/html">
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta charset="UTF-8" />
	<title>ViewRepeater - SAPUI5 Demo Kit</title>
	<script src="../../../../../../resources/sap-ui-core.js"
	        type="text/javascript" id="sap-ui-bootstrap"
	        data-sap-ui-libs="sap.ui.ux3,
                              sap.ui.commons,
                              sap.ui.table,
                              sap.ui.demokit,
                              sap.viz,
                              sap.suite.ui.commons"
	        data-sap-ui-theme="sap_bluecrystal">
	</script>

	<style>

		/* CSS for the Example 1*/

		.vrNoViews li.sapUiRrRow {
			padding: 3px;
		}

		.rowTemplateNoViews {
			width: 100%;
			box-sizing: border-box;
			-moz-box-sizing: border-box;
			border: 1px #CCCCCC solid;
			background-color: #ECEAEA;
		}

		.rowTemplateNoViewsTextSection {
			margin: 1px 7px 1px 7px;
		}

		/* CSS for the Example 2 */

		.vrSimpleViews li.sapUiRrRow {
			padding: 3px;
		}

		.rowTemplateSimpleViews {
			box-sizing: border-box;
			-moz-box-sizing: border-box;
			border: 1px #CCCCCC solid;
			background-color: #EAECEA;
		}

		/* CSS for the Example 3 */

		.rowTemplateExtViews {
			box-sizing: border-box;
			-moz-box-sizing: border-box;
			border: 1px #AA9999 solid;
			background-color: #EAEAEC;
		}

		/* CSS for the Example 4 */

		.rowTemplateCombo {
			box-sizing: border-box;
			-moz-box-sizing: border-box;
			border: 1px #9999AA solid;
			background-color: #EAEAEF;
		}

	</style>

	<script id='VRModel'>

		// create test data
		var dataObject = {
			data: [
				{
					lastName: "Platte",
					name: "Rudolf",
					href: "http://www.sap.com",
					src: "images/people/male_PlatteR.jpg",
					availableVacation: Math.floor(Math.random() * 28),
					gender: "male",
					country: "US"
				},
				{
					lastName: "Dwyer",
					name: "Nora",
					href: "http://www.sap.com",
					src: "images/people/female_DwyerN.jpg",
					availableVacation: Math.floor(Math.random() * 28),
					gender: "female",
					country: "US"
				},
				{
					lastName: "Wallace",
					name: "Alex",
					href: "http://www.sap.com",
					src: "images/people/male_WallaceA.jpg",
					availableVacation: Math.floor(Math.random() * 28),
					gender: "male",
					country: "DE"
				},
				{
					lastName: "Wang",
					name: "Megan",
					href: "http://www.sap.com",
					src: "images/people/female_WangM.jpg",
					availableVacation: Math.floor(Math.random() * 28),
					gender: "female",
					country: "US"
				},
				{
					lastName: "Ingalls",
					name: "Barbara",
					href: "http://www.sap.com",
					src: "images/people/female_IngallsB.jpg",
					availableVacation: Math.floor(Math.random() * 28),
					gender: "female",
					country: "US"
				},
				{
					lastName: "Wallace",
					name: "Bruno",
					href: "http://www.sap.com",
					src: "images/people/male_WallaceA.jpg",
					availableVacation: Math.floor(Math.random() * 28),
					gender: "male",
					country: "US"
				},
				{
					lastName: "Zar",
					name: "Lou",
					href: "http://www.sap.com",
					src: "images/people/male_FieldJ.jpg",
					availableVacation: Math.floor(Math.random() * 28),
					gender: "male",
					country: "DE"
				},
				{
					lastName: "Watson",
					name: "Mary",
					href: "http://www.sap.com",
					src: "images/people/female_WatsonM.jpg",
					availableVacation: Math.floor(Math.random() * 28),
					gender: "female",
					country: "US"
				},
				{
					lastName: "Spring",
					name: "Sally",
					href: "http://www.sap.com",
					src: "images/people/female_SpringS.jpg",
					availableVacation: Math.floor(Math.random() * 28),
					gender: "female",
					country: "US"
				},
				{
					lastName: "Schutt",
					name: "Doris",
					href: "http://www.sap.com",
					src: "images/people/female_BaySu.jpg",
					availableVacation: Math.floor(Math.random() * 28),
					gender: "female",
					country: "US"
				},
				{
					lastName: "Nicols",
					name: "John",
					href: "http://www.sap.com",
					src: "images/people/male_NicolsJ.jpg",
					availableVacation: Math.floor(Math.random() * 28),
					gender: "male",
					country: "FR"
				},
				{
					lastName: "Gains",
					name: "Viola",
					href: "http://www.sap.com",
					src: "images/people/female_GainsV.jpg",
					availableVacation: Math.floor(Math.random() * 28),
					gender: "female",
					country: "DE"
				},
				{
					lastName: "Bay",
					name: "Sue",
					href: "http://www.sap.com",
					src: "images/people/female_BaySu.jpg",
					availableVacation: Math.floor(Math.random() * 28),
					gender: "female",
					country: "FR"
				},
				{
					lastName: "Smith",
					name: "John",
					href: "http://www.sap.com",
					src: "images/people/male_SmithJo.jpg",
					availableVacation: Math.floor(Math.random() * 28),
					gender: "male",
					country: "CH"
				},
				{
					lastName: "Gordon",
					name: "Randy",
					href: "http://www.sap.com",
					src: "images/people/male_GordonR.jpg",
					availableVacation: Math.floor(Math.random() * 28),
					gender: "male",
					country: "DE"
				},
				{
					lastName: "Schulz",
					name: "Justin",
					href: "http://www.sap.com",
					src: "images/people/male_SchulzJ.jpg",
					availableVacation: Math.floor(Math.random() * 28),
					gender: "male",
					country: "DE"
				},
				{
					lastName: "Time",
					name: "Tino",
					href: "http://www.sap.com",
					src: "images/people/male_KentC.jpg",
					availableVacation: Math.floor(Math.random() * 28),
					gender: "male",
					country: "US"
				},
				{
					lastName: "East",
					name: "Jonathan",
					href: "http://www.sap.com",
					src: "images/people/male_EastJ.jpg",
					availableVacation: Math.floor(Math.random() * 28),
					gender: "male",
					country: "FR"
				},
				{
					lastName: "Poole",
					name: "Gene",
					href: "http://www.sap.com",
					src: "images/people/female_GainsV.jpg",
					availableVacation: Math.floor(Math.random() * 28),
					gender: "female",
					country: "IT"
				},
				{
					lastName: "Ander",
					name: "Corey",
					href: "http://www.sap.com",
					src: "images/people/male_SchulzJ.jpg",
					availableVacation: Math.floor(Math.random() * 28),
					gender: "male",
					country: "CH"
				},
				{
					lastName: "Early",
					name: "Brighton",
					href: "http://www.sap.com",
					src: "images/people/male_FieldJ.jpg",
					availableVacation: Math.floor(Math.random() * 28),
					gender: "male",
					country: "FR"
				},
				{
					lastName: "Noring",
					name: "Constance",
					href: "http://www.sap.com",
					src: "images/people/female_WatsonM.jpg",
					availableVacation: Math.floor(Math.random() * 28),
					gender: "female",
					country: "US"
				},
				{
					lastName: "Miller",
					name: "Michael",
					href: "http://www.sap.com",
					src: "images/people/male_MillerM.jpg",
					availableVacation: Math.floor(Math.random() * 28),
					gender: "male",
					country: "DE"
				},
				{
					lastName: "Tress",
					name: "Matt",
					href: "http://www.sap.com",
					src: "images/people/female_WatsonM.jpg",
					availableVacation: Math.floor(Math.random() * 28),
					gender: "female",
					country: "US"
				},
				{
					lastName: "Turner",
					name: "Pamela",
					href: "http://www.sap.com",
					src: "images/people/female_RushJ.jpg",
					availableVacation: Math.floor(Math.random() * 28),
					gender: "female",
					country: "DE"
				},
				{
					lastName: "Dente",
					name: "Al",
					href: "http://www.sap.com",
					src: "images/people/i2.jpg",
					availableVacation: Math.floor(Math.random() * 28),
					gender: "male",
					country: "US"
				},
				{
					lastName: "Friese",
					name: "Andy",
					href: "http://www.sap.com",
					src: "images/people/i3.jpg",
					availableVacation: Math.floor(Math.random() * 28),
					gender: "male",
					country: "DE"
				},
				{
					lastName: "Mann",
					name: "Anita",
					href: "http://www.sap.com",
					src: "images/people/i1.jpg",
					availableVacation: Math.floor(Math.random() * 28),
					gender: "female",
					country: "DE"
				},
				{
					lastName: "Fisher",
					name: "Richard",
					href: "http://www.sap.com",
					src: "images/people/male_FisherR.jpg",
					availableVacation: Math.floor(Math.random() * 28),
					gender: "male",
					country: "US"
				},
				{
					lastName: "Fuchs",
					name: "Peter",
					href: "http://www.sap.com",
					src: "images/people/male_FuchsP.jpg",
					availableVacation: Math.floor(Math.random() * 28),
					gender: "male",
					country: "DE"
				},
				{
					lastName: "Rush",
					name: "Joanne",
					href: "http://www.sap.com",
					src: "images/people/female_RushJ.jpg",
					availableVacation: Math.floor(Math.random() * 28),
					gender: "female",
					country: "DE"
				}
			]
		};
		// Increase the number of the lines to more than 100
		for (var n = 1; n <= 100; n++) {
			dataObject.data.push({
				lastName: "LastName" + n,
				name: "Name" + n,
				src: "images/people/male.jpg",
				availableVacation: 0,
				country: "DE",
				href: "http://www.sap.com"
			});
		}

		// create JSON model
		var oModel = new sap.ui.model.json.JSONModel();
		oModel.setData(dataObject);
		sap.ui.getCore().setModel(oModel);

		new sap.ui.commons.TextView({ text: "This block contains only model creation. Changes in this code will affect data in all examples below." }).placeAt("vr-model");
	</script>

	<script id='VRNoViews'>

		/* STYLES APPLIED (for the information only, non editable)

		 .rowTemplateNoViews {
		 width: 100%;
		 box-sizing: border-box;
		 -moz-box-sizing: border-box;
		 border: 1px #cccccc solid;
		 background-color: #eceaea;
		 }
		 .rowTemplateNoViewsTextSection {
		 margin: 1px 7px 1px 7px;
		 }

		 */

		//////// TEMPLATE SECTION //////////////////////////////////////////////////////////////////
		//
		// create the template to be used for ViewRepeater items
		var oRowTemplate_NoViews = new sap.ui.commons.layout.HorizontalLayout("rowTemplateNoViews");
		oRowTemplate_NoViews.addStyleClass("rowTemplateNoViews");

		var control;
		//image
		control = new sap.ui.commons.Image();
		control.setHeight("60px");
		control.setWidth("50px");
		control.bindProperty("src", "src");
		oRowTemplate_NoViews.addContent(control);

		//text fields
		var oTextSectionLayout = new sap.ui.commons.layout.VerticalLayout("textSection");
		oTextSectionLayout.addStyleClass("rowTemplateNoViewsTextSection");
		oRowTemplate_NoViews.addContent(oTextSectionLayout);

		//name field
		control = new sap.ui.commons.TextView();
		control.bindProperty("text", {
			parts: [
				{ path: "name", type: new sap.ui.model.type.String() },
				{ path: "lastName", type: new sap.ui.model.type.String() }
			],
			formatter: function(name, lastName) { // all parameters are strings
				name = name || "";
				lastName = lastName || "";
				return name + " " + lastName;
			}
		});
		oTextSectionLayout.addContent(control);

		//country field
		control = new sap.ui.commons.TextView();
		control.bindProperty("text", "country");
		oTextSectionLayout.addContent(control);

		//link field
		control = new sap.ui.commons.Link();
		control.bindProperty("text", "href");
		oTextSectionLayout.addContent(control);
		//
		//////// End of TEMPLATE SECTION ///////////////////////////////////////////////////////////

		//////// CONTROL SECTION ///////////////////////////////////////////////////////////////////
		//
		//create view repeater title (optional)
		var oTitle_NoViews = new sap.ui.commons.Title({
			text: "REPEATER with default view",
			level: sap.ui.commons.TitleLevel.H1
		});

		// create the row repeater control
		var oViewRepeater_NoViews = new sap.suite.ui.commons.ViewRepeater("vr_noViews", {
			title: oTitle_NoViews,
			noData: new sap.ui.commons.TextView({ text: "Sorry, no data available!" }),

			showViews: false, // disable view selector
			showSearchField: false,
			showMoreSteps: 10, // you can use 'Show More' feature instead of paging

			//set view properties directly to the repeater
			responsive: true,
			itemMinWidth: 210,
			numberOfRows: 12, // view property NumberOfTiles has legacy name here
			rows: {
				path: "/data",
				template: oRowTemplate_NoViews
			}
		});
		oViewRepeater_NoViews.addStyleClass("vrNoViews");
		oViewRepeater_NoViews.placeAt("vr-noviews");
		//
		//////// End of CONTROL SECTION ////////////////////////////////////////////////////////////

	</script>

	<script id='VRSimple'>

		/* STYLES APPLIED (for the information only, non editable)

		 .rowTemplateSimpleViews {
		 box-sizing: border-box;
		 -moz-box-sizing: border-box;
		 border: 1px #cccccc solid;
		 background-color: #eaecea;
		 }

		 */

		//////// TEMPLATE SECTION //////////////////////////////////////////////////////////////////
		//
		// create the templates to be used for ViewRepeater items

		//create the first view ------------------------------------------------------------------------------------
		var oRowTemplate1 = new sap.ui.commons.layout.MatrixLayout("rowTemplateSimpleView1");
		oRowTemplate1.addStyleClass("rowTemplateSimpleViews");
		oRowTemplate1.setWidths(["50px", "40px", "110px"]);

		var matrixRow, matrixCell, control;
		// main row
		matrixRow = new sap.ui.commons.layout.MatrixLayoutRow();
		//image
		control = new sap.ui.commons.Image();
		control.setHeight("60px");
		control.setWidth("50px");
		control.bindProperty("src", "src");
		matrixCell = new sap.ui.commons.layout.MatrixLayoutCell();
		matrixCell.addContent(control);
		matrixCell.setRowSpan(2);
		matrixCell.setPadding(sap.ui.commons.layout.Padding.None);
		matrixRow.addCell(matrixCell);

		//label 1
		control = new sap.ui.commons.Label();
		control.bindProperty("text", "lastName");
		matrixCell = new sap.ui.commons.layout.MatrixLayoutCell();
		matrixCell.addContent(control);
		matrixRow.addCell(matrixCell);

		//label 2
		control = new sap.ui.commons.Label();
		control.bindProperty("text", "name");
		matrixCell = new sap.ui.commons.layout.MatrixLayoutCell();
		matrixCell.addContent(control);
		matrixRow.addCell(matrixCell);
		oRowTemplate1.addRow(matrixRow);

		matrixRow = new sap.ui.commons.layout.MatrixLayoutRow();

		//label 3
		control = new sap.ui.commons.Label();
		control.bindProperty("text", "country");
		matrixCell = new sap.ui.commons.layout.MatrixLayoutCell();
		matrixCell.addContent(control);
		matrixRow.addCell(matrixCell);

		//link
		control = new sap.ui.commons.Link();
		control.bindProperty("text", "href");
		matrixCell = new sap.ui.commons.layout.MatrixLayoutCell();
		matrixCell.addContent(control);
		matrixRow.addCell(matrixCell);
		// add row to matrix
		oRowTemplate1.addRow(matrixRow);

		//create the second view -----------------------------------------------------------------------------------
		var oRowTemplate2 = new sap.ui.commons.layout.MatrixLayout("rowTemplateSimpleView2");
		oRowTemplate2.addStyleClass("rowTemplateSimpleViews");
		oRowTemplate2.setWidths(["100px", "80px", "120px"]);

		// var  matrixRow, matrixCell, control;
		// main row
		matrixRow = new sap.ui.commons.layout.MatrixLayoutRow();
		//image
		control = new sap.ui.commons.Image();
		control.setHeight("120px");
		control.setWidth("100px");
		control.bindProperty("src", "src");
		matrixCell = new sap.ui.commons.layout.MatrixLayoutCell();
		matrixCell.addContent(control);
		matrixCell.setRowSpan(4);
		matrixCell.setPadding(sap.ui.commons.layout.Padding.None);
		matrixRow.addCell(matrixCell);

		// name row ******************************************
		//label for Name
		control = new sap.ui.commons.Label({
			text: "Name:"
		});
		matrixCell = new sap.ui.commons.layout.MatrixLayoutCell();
		matrixCell.setHAlign(sap.ui.commons.layout.HAlign.Right);
		matrixCell.addContent(control);
		matrixRow.addCell(matrixCell);

		//field Name
		control = new sap.ui.commons.TextView();
		control.bindProperty("text", {
			parts: [
				{ path: "name", type: new sap.ui.model.type.String() },
				{ path: "lastName", type: new sap.ui.model.type.String() }
			],
			formatter: function(name, lastName) { // all parameters are strings
				name = name || "";
				lastName = lastName || "";
				return name + " " + lastName;
			}
		});
		matrixCell = new sap.ui.commons.layout.MatrixLayoutCell();
		matrixCell.addContent(control);
		matrixRow.addCell(matrixCell);
		oRowTemplate2.addRow(matrixRow);

		// country row ******************************************
		matrixRow = new sap.ui.commons.layout.MatrixLayoutRow();
		//label for Country
		control = new sap.ui.commons.Label({
			text: "Country:"
		});
		matrixCell = new sap.ui.commons.layout.MatrixLayoutCell();
		matrixCell.setHAlign(sap.ui.commons.layout.HAlign.Right);
		matrixCell.addContent(control);
		matrixRow.addCell(matrixCell);

		//field Country
		control = new sap.ui.commons.TextView();
		control.bindProperty("text", "country");
		matrixCell = new sap.ui.commons.layout.MatrixLayoutCell();
		matrixCell.addContent(control);
		matrixRow.addCell(matrixCell);
		oRowTemplate2.addRow(matrixRow);

		// gender row ******************************************
		matrixRow = new sap.ui.commons.layout.MatrixLayoutRow();
		//label for Gender
		control = new sap.ui.commons.Label({
			text: "Gender:"
		});
		matrixCell = new sap.ui.commons.layout.MatrixLayoutCell();
		matrixCell.setHAlign(sap.ui.commons.layout.HAlign.Right);
		matrixCell.addContent(control);
		matrixRow.addCell(matrixCell);

		//field Gender
		control = new sap.ui.commons.TextView();
		control.bindProperty("text", "gender");
		matrixCell = new sap.ui.commons.layout.MatrixLayoutCell();
		matrixCell.addContent(control);
		matrixRow.addCell(matrixCell);
		oRowTemplate2.addRow(matrixRow);

		// website row ******************************************
		matrixRow = new sap.ui.commons.layout.MatrixLayoutRow();
		//label for Website
		control = new sap.ui.commons.Label({
			text: "Web site:"
		});
		matrixCell = new sap.ui.commons.layout.MatrixLayoutCell();
		matrixCell.setHAlign(sap.ui.commons.layout.HAlign.Right);
		matrixCell.addContent(control);
		matrixRow.addCell(matrixCell);

		//link field Website
		control = new sap.ui.commons.Link();
		control.bindProperty("text", "href");
		matrixCell = new sap.ui.commons.layout.MatrixLayoutCell();
		matrixCell.addContent(control);
		matrixRow.addCell(matrixCell);

		oRowTemplate2.addRow(new sap.ui.commons.layout.MatrixLayoutRow()); //empty row to fix vertical alignment
		//
		//////// End of TEMPLATE SECTION ///////////////////////////////////////////////////////////

		//////// CONTROL SECTION ///////////////////////////////////////////////////////////////////
		//
		var oTitle_SimpleViews = new sap.ui.commons.Title({
			text: "Employees",
			icon: "images/SAPLogo.gif",
			tooltip: "Employees"
		});

		// create the row repeater control
		var oViewRepeater_SimpleViews = new sap.suite.ui.commons.ViewRepeater("vr_simple", {
			height: "410px",
			title: oTitle_SimpleViews
		});
		oViewRepeater_SimpleViews.addStyleClass("vrSimpleViews");
		oViewRepeater_SimpleViews.setNoData(new sap.ui.commons.TextView({ text: "Sorry, no data available!" }));

		// create filters
		var aFilters = [
			new sap.ui.commons.RowRepeaterFilter("first_filter_simple", { text: "All Countries" }),
			new sap.ui.commons.RowRepeaterFilter("second_filter_simple", {
				text: "Germany",
				filters: [new sap.ui.model.Filter("country", "EQ", "DE")],
				tooltip: "Show Employees working in Germany"
			}),
			new sap.ui.commons.RowRepeaterFilter("third_filter_simple", {
				text: "USA",
				filters: [new sap.ui.model.Filter("country", "EQ", "US")],
				tooltip: "Show Employees working in USA"
			})
		];

		// create sorters
		var aSorters = [
			new sap.ui.commons.RowRepeaterSorter("third_sorter_simple", {
				text: "Country",
				sorter: new sap.ui.model.Sorter("country", true),
				tooltip: "Sort By Country"
			}),
			new sap.ui.commons.RowRepeaterSorter("first_sorter_simple", {
				text: "Gender",
				sorter: new sap.ui.model.Sorter("gender", false),
				tooltip: "Sort By Gender"
			}),
			new sap.ui.commons.RowRepeaterSorter("second_sorter_simple", {
				text: "Last Name",
				sorter: new sap.ui.model.Sorter("lastName", false)
			})
		];

		var i;

		//add filters and sorters
		for (i = 0; i < aFilters.length; i++) {
			oViewRepeater_SimpleViews.addFilter(aFilters[i]);
		}

		for (i = 0; i < aSorters.length; i++) {
			oViewRepeater_SimpleViews.addSorter(aSorters[i]);
		}

		oViewRepeater_SimpleViews.attachSearch(function(oEvent) {
			alert("search value:" + oEvent.getParameter("query"));
		});
		//
		//////// End of CONTROL SECTION ////////////////////////////////////////////////////////////

		//////////// VIEW SECTION //////////////////////////////////////////////////////////////////
		//
		oViewRepeater_SimpleViews.addView(new sap.suite.ui.commons.RepeaterViewConfiguration({
			tooltip: "View with default name",
			itemMinWidth: 210,
			itemHeight: 68,
			responsive: true,
			path: "/data",
			template: oRowTemplate1
		}));

		oViewRepeater_SimpleViews.addView(new sap.suite.ui.commons.RepeaterViewConfiguration({
			icon: "images/ctrls/tiles.png",
			iconHovered: "images/ctrls/tiles_hover.png",
			responsive: true,
			tooltip: "View with icon only",
			itemMinWidth: 310,
			itemHeight: 136,
			path: "/data",
			template: oRowTemplate2
		}));

		oViewRepeater_SimpleViews.addView(new sap.suite.ui.commons.RepeaterViewConfiguration({
			icon: "images/ctrls/list.png",
			iconHovered: "images/ctrls/list_hover.png",
			title: "Row view",
			tooltip: "View with icon and title"
		}));

		oViewRepeater_SimpleViews.setDefaultViewIndex(1);
		//
		//////// End of VIEW SECTION ////////////////////////////////////////////////////////////

		oViewRepeater_SimpleViews.placeAt("vr-simple");
	</script>

	<script id='VRExternal'>

		/* STYLES APPLIED (for the information only, non editable)

		 .rowTemplateExtViews {
		 box-sizing: border-box;
		 -moz-box-sizing: border-box;
		 border: 1px #eecccc solid;
		 background-color: #eaeaec;
		 }

		 */

		//////// TEMPLATE SECTION //////////////////////////////////////////////////////////////////
		//
		// create the templates to be used for ViewRepeater items

		//create the first view ----------------------------------------------------------------------------------------
		var oRowTemplate1 = new sap.ui.commons.layout.MatrixLayout("rowTemplateExtView1");
		oRowTemplate1.addStyleClass("rowTemplateExtViews");
		oRowTemplate1.setWidths(["50px", "40px", "110px"]);

		var matrixRow, matrixCell, control;
		// main row
		matrixRow = new sap.ui.commons.layout.MatrixLayoutRow();
		//image
		control = new sap.ui.commons.Image();
		control.setHeight("60px");
		control.setWidth("50px");
		control.bindProperty("src", "src");
		matrixCell = new sap.ui.commons.layout.MatrixLayoutCell();
		matrixCell.addContent(control);
		matrixCell.setRowSpan(2);
		matrixCell.setPadding(sap.ui.commons.layout.Padding.None);
		matrixRow.addCell(matrixCell);

		//label 1
		control = new sap.ui.commons.Label();
		control.bindProperty("text", "lastName");
		matrixCell = new sap.ui.commons.layout.MatrixLayoutCell();
		matrixCell.setHAlign(sap.ui.commons.layout.HAlign.Right);
		matrixCell.addContent(control);
		matrixRow.addCell(matrixCell);

		//label 2
		control = new sap.ui.commons.Label();
		control.bindProperty("text", "name");
		matrixCell = new sap.ui.commons.layout.MatrixLayoutCell();
		matrixCell.addContent(control);
		matrixRow.addCell(matrixCell);
		oRowTemplate1.addRow(matrixRow);

		matrixRow = new sap.ui.commons.layout.MatrixLayoutRow();

		//text view
		control = new sap.ui.commons.TextView({
			semanticColor: {
				path: "availableVacation",
				formatter: function(v) {
					if (v > 10) {
						return sap.ui.commons.TextViewColor.Negative;
					} else {
						return sap.ui.commons.TextViewColor.Default;
					}
				}
			},
			design: sap.ui.commons.TextViewDesign.Bold
		});
		control.bindProperty("text", "availableVacation");
		matrixCell = new sap.ui.commons.layout.MatrixLayoutCell();
		matrixCell.setHAlign(sap.ui.commons.layout.HAlign.Right);
		matrixCell.addContent(control);
		matrixRow.addCell(matrixCell);

		//label 3
		control = new sap.ui.commons.Label({ text: "day(s) of av.vacation" });
		matrixCell = new sap.ui.commons.layout.MatrixLayoutCell();
		matrixCell.addContent(control);
		matrixRow.addCell(matrixCell);

		// add row to matrix
		oRowTemplate1.addRow(matrixRow);

		//Create the second view. External table one -------------------------------------------------------------------
		var oTable_Ext = new sap.ui.table.Table("tbl_ext", {
			visibleRowCount: 7,
			columns: [
				new sap.ui.table.Column({
					label: "First Name",
					template: new sap.ui.commons.TextView().bindProperty("text", "name"),
					sortProperty: "name",
					filterProperty: "name",
					width: "100px"
				}),
				new sap.ui.table.Column({
					label: "Last Name",
					template: new sap.ui.commons.TextView().bindProperty("text", "lastName"),
					sortProperty: "lastName",
					filterProperty: "lastName",
					width: "100px"
				}),
				new sap.ui.table.Column({
					label: "User Pic",
					template: new sap.ui.commons.Image({
						height: "36px",
						width: "30px"
					}).bindProperty("src", "src"),
					sortProperty: "src",
					filterProperty: "src",
					hAlign: "Center",
					width: "70px"
				}),
				new sap.ui.table.Column({
					label: "Country",
					template: new sap.ui.commons.TextView().bindProperty("text", "country"),
					sortProperty: "country",
					filterProperty: "country"
				}),
				new sap.ui.table.Column({
					label: "Available vacation balance",
					template: new sap.ui.commons.TextView({
						semanticColor: {
							path: "availableVacation",
							formatter: function(v) {
								if (v > 10) {
									return sap.ui.commons.TextViewColor.Negative;
								} else {
									return sap.ui.commons.TextViewColor.Default;
								}
							}
						}
					}).bindProperty("text", "availableVacation"),
					sortProperty: "availableVacation",
					filterProperty: "availableVacation"
				})
			]
		});
		oTable_Ext.bindRows("/data");

		//Create the third view. External table one --------------------------------------------------------------------

		// A Dataset defines how the model data is mapped to the chart
		var oDataset = new sap.viz.ui5.data.FlattenedDataset({

			// a Bar Chart requires exactly one dimension (x-axis)
			dimensions: [
				{
					axis: 1, // must be one for the x-axis, 2 for y-axis
					name: 'Country',
					value: "{country}"
				},
				{
					axis: 1, // must be one for the x-axis, 2 for y-axis
					name: 'Last Name',
					value: "{lastName}"
				}
			],

			// it can show multiple measures, each results in a new set of bars in a new color
			measures: [
				// measure 1
				{
					name: 'Available vacation', // 'name' is used as label in the Legend
					value: "{availableVacation}" // 'value' defines the binding for the displayed value
				},
				{
					name: 'Refundable limit', // 'name' is used as label in the Legend
					value: 10 // 'value' defines the binding for the displayed value
				}
			],

			// 'data' is used to bind the whole data collection that is to be displayed in the chart
			data: {
				path: "/data",
				sorter: new sap.ui.model.Sorter("country"),
				filters: [new sap.ui.model.Filter("availableVacation", "GT", 10)]
			}

		});

		// create a Combination chart
		// you also might use Bar, Line, StackedColumn100, StackedColumn or Column
		// for Donut and Pie please remove one of the two measures in the above Dataset.
		var oBarChart = new sap.viz.ui5.Combination({
			width: "100%",
			height: "400px",
			title: {
				visible: true,
				text: 'Vacation balance that exceeds refundable limit. Sorted by Country'
			},
			dataset: oDataset
		});
		//
		//////// End of TEMPLATE SECTION ///////////////////////////////////////////////////////////

		//////// CONTROL SECTION ///////////////////////////////////////////////////////////////////
		//
		var oTitle = new sap.ui.commons.Title({ text: "HR Statistics", tooltip: "HR Statistics" });

		// create the row repeater control
		var oViewRepeater_ExtViews = new sap.suite.ui.commons.ViewRepeater("vr_ext", {
			height: "400px",
			title: oTitle
		});
		oViewRepeater_ExtViews.addStyleClass("vrExtViews");
		oViewRepeater_ExtViews.setNoData(new sap.ui.commons.TextView({ text: "Sorry, no data available!" }));
		oViewRepeater_ExtViews.bindRows("/data", oRowTemplate1);
		oViewRepeater_ExtViews.attachSearch(function(oEvent) {
			alert("search value:" + oEvent.getParameter("query"));
		});
		//
		//////// End of CONTROL SECTION ////////////////////////////////////////////////////////////

		//////////// VIEW SECTION //////////////////////////////////////////////////////////////////
		//
		oViewRepeater_ExtViews.addView(new sap.suite.ui.commons.RepeaterViewConfiguration({
			title: "Repeater's Tiled View",
			icon: "images/large_tiles.png",
			responsive: true,
			itemMinWidth: 210,
			itemHeight: 62,
			numberOfTiles: 12,
			path: "/data",
			template: oRowTemplate1
		}));

		oViewRepeater_ExtViews.addView(new sap.suite.ui.commons.RepeaterViewConfiguration({
			title: "External Table View",
			icon: "images/table.png",
			external: true,
			externalRepresentation: oTable_Ext
		}));

		oViewRepeater_ExtViews.addView(new sap.suite.ui.commons.RepeaterViewConfiguration({
			title: "External Chart View",
			icon: "images/chart_line.png",
			external: true,
			externalRepresentation: oBarChart
		}));

		oViewRepeater_ExtViews.setDefaultViewIndex(2);
		//
		//////// End of VIEW SECTION ///////////////////////////////////////////////////////////////

		oViewRepeater_ExtViews.placeAt("vr-ext");
	</script>

	<script id='VRCombined'>

		/* STYLES APPLIED (for the information only, non editable)

		 .rowTemplateCombo {
		 box-sizing: border-box;
		 -moz-box-sizing: border-box;
		 border: 1px #9999aa solid;
		 background-color: #eaeaef;
		 }

		 */

		//////// TEMPLATE SECTION //////////////////////////////////////////////////////////////////
		//
		// create the templates to be used for ViewRepeater items

		//create the first view ------------------------------------------------------------------------------------
		var oRowTemplate1 = new sap.ui.commons.layout.MatrixLayout("rowTemplateCombo1");
		oRowTemplate1.addStyleClass("rowTemplateCombo");
		oRowTemplate1.setWidths(["50px", "40px", "110px"]);

		var matrixRow, matrixCell, control;
		// main row
		matrixRow = new sap.ui.commons.layout.MatrixLayoutRow();
		//image
		control = new sap.ui.commons.Image();
		control.setHeight("60px");
		control.setWidth("50px");
		control.bindProperty("src", "src");
		matrixCell = new sap.ui.commons.layout.MatrixLayoutCell();
		matrixCell.addContent(control);
		matrixCell.setRowSpan(2);
		matrixCell.setPadding(sap.ui.commons.layout.Padding.None);
		matrixRow.addCell(matrixCell);

		//label 1
		control = new sap.ui.commons.Label();
		control.bindProperty("text", "lastName");
		matrixCell = new sap.ui.commons.layout.MatrixLayoutCell();
		matrixCell.addContent(control);
		matrixRow.addCell(matrixCell);

		//label 2
		control = new sap.ui.commons.Label();
		control.bindProperty("text", "name");
		matrixCell = new sap.ui.commons.layout.MatrixLayoutCell();
		matrixCell.addContent(control);
		matrixRow.addCell(matrixCell);
		oRowTemplate1.addRow(matrixRow);

		matrixRow = new sap.ui.commons.layout.MatrixLayoutRow();

		//label 3
		control = new sap.ui.commons.Label();
		control.bindProperty("text", "country");
		matrixCell = new sap.ui.commons.layout.MatrixLayoutCell();
		matrixCell.addContent(control);
		matrixRow.addCell(matrixCell);

		//link
		control = new sap.ui.commons.Link();
		control.bindProperty("text", "href");
		matrixCell = new sap.ui.commons.layout.MatrixLayoutCell();
		matrixCell.addContent(control);
		matrixRow.addCell(matrixCell);
		// add row to matrix
		oRowTemplate1.addRow(matrixRow);

		//create the second view -----------------------------------------------------------------------------------
		var oRowTemplate2 = new sap.ui.commons.layout.MatrixLayout("rowTemplateCombo2");
		oRowTemplate2.addStyleClass("rowTemplateCombo");
		oRowTemplate2.setWidths(["100px", "80px", "120px"]);

		// var  matrixRow, matrixCell, control;
		// main row
		matrixRow = new sap.ui.commons.layout.MatrixLayoutRow();
		//image
		control = new sap.ui.commons.Image();
		control.setHeight("120px");
		control.setWidth("100px");
		control.bindProperty("src", "src");
		matrixCell = new sap.ui.commons.layout.MatrixLayoutCell();
		matrixCell.addContent(control);
		matrixCell.setRowSpan(4);
		matrixCell.setPadding(sap.ui.commons.layout.Padding.None);
		matrixRow.addCell(matrixCell);

		// name row ******************************************
		//label for Name
		control = new sap.ui.commons.Label({
			text: "Name:"
		});
		matrixCell = new sap.ui.commons.layout.MatrixLayoutCell();
		matrixCell.setHAlign(sap.ui.commons.layout.HAlign.Right);
		matrixCell.addContent(control);
		matrixRow.addCell(matrixCell);

		//field Name
		control = new sap.ui.commons.TextView();
		control.bindProperty("text", {
			parts: [
				{ path: "name", type: new sap.ui.model.type.String() },
				{ path: "lastName", type: new sap.ui.model.type.String() }
			],
			formatter: function(name, lastName) { // all parameters are strings
				name = name || "";
				lastName = lastName || "";
				return name + " " + lastName;
			}
		});
		matrixCell = new sap.ui.commons.layout.MatrixLayoutCell();
		matrixCell.addContent(control);
		matrixRow.addCell(matrixCell);
		oRowTemplate2.addRow(matrixRow);

		// country row ******************************************
		matrixRow = new sap.ui.commons.layout.MatrixLayoutRow();
		//label for Country
		control = new sap.ui.commons.Label({
			text: "Country:"
		});
		matrixCell = new sap.ui.commons.layout.MatrixLayoutCell();
		matrixCell.setHAlign(sap.ui.commons.layout.HAlign.Right);
		matrixCell.addContent(control);
		matrixRow.addCell(matrixCell);

		//field Country
		control = new sap.ui.commons.TextView();
		control.bindProperty("text", "country");
		matrixCell = new sap.ui.commons.layout.MatrixLayoutCell();
		matrixCell.addContent(control);
		matrixRow.addCell(matrixCell);
		oRowTemplate2.addRow(matrixRow);

		// gender row ******************************************
		matrixRow = new sap.ui.commons.layout.MatrixLayoutRow();
		//label for Gender
		control = new sap.ui.commons.Label({
			text: "Gender:"
		});
		matrixCell = new sap.ui.commons.layout.MatrixLayoutCell();
		matrixCell.setHAlign(sap.ui.commons.layout.HAlign.Right);
		matrixCell.addContent(control);
		matrixRow.addCell(matrixCell);

		//field Gender
		control = new sap.ui.commons.TextView();
		control.bindProperty("text", "gender");
		matrixCell = new sap.ui.commons.layout.MatrixLayoutCell();
		matrixCell.addContent(control);
		matrixRow.addCell(matrixCell);
		oRowTemplate2.addRow(matrixRow);

		// website row ******************************************
		matrixRow = new sap.ui.commons.layout.MatrixLayoutRow();
		//label for Website
		control = new sap.ui.commons.Label({
			text: "Web site:"
		});
		matrixCell = new sap.ui.commons.layout.MatrixLayoutCell();
		matrixCell.setHAlign(sap.ui.commons.layout.HAlign.Right);
		matrixCell.addContent(control);
		matrixRow.addCell(matrixCell);

		//link field Website
		control = new sap.ui.commons.Link();
		control.bindProperty("text", "href");
		matrixCell = new sap.ui.commons.layout.MatrixLayoutCell();
		matrixCell.addContent(control);
		matrixRow.addCell(matrixCell);

		oRowTemplate2.addRow(new sap.ui.commons.layout.MatrixLayoutRow()); //empty row to fix vertical alignment

		//Create the third view. External table one --------------------------------------------------------------------
		var oTable_Combo = new sap.ui.table.Table("tbl_combo", {
			visibleRowCount: 7,
			columns: [
				new sap.ui.table.Column({
					label: "First Name",
					template: new sap.ui.commons.TextView().bindProperty("text", "name"),
					sortProperty: "name",
					filterProperty: "name",
					width: "100px"
				}),
				new sap.ui.table.Column({
					label: "Last Name",
					template: new sap.ui.commons.TextView().bindProperty("text", "lastName"),
					sortProperty: "lastName",
					filterProperty: "lastName",
					width: "100px"
				}),
				new sap.ui.table.Column({
					label: "User Pic",
					template: new sap.ui.commons.Image({
						height: "36px",
						width: "30px"
					}).bindProperty("src", "src"),
					sortProperty: "src",
					filterProperty: "src",
					hAlign: "Center",
					width: "70px"
				}),
				new sap.ui.table.Column({
					label: "Country",
					template: new sap.ui.commons.TextView().bindProperty("text", "country"),
					sortProperty: "country",
					filterProperty: "country"
				})
			]
		});
		oTable_Combo.bindRows("/data");
		//
		//////// End of TEMPLATE SECTION ///////////////////////////////////////////////////////////

		//////// CONTROL SECTION ///////////////////////////////////////////////////////////////////
		//
		var oTitle_Combo = new sap.ui.commons.Title({ text: "Employees", tooltip: "Employees" });

		// create the row repeater control
		var oViewRepeater_Combo = new sap.suite.ui.commons.ViewRepeater("vr_combo", {
			height: "465px",
			title: oTitle_Combo
		});
		oViewRepeater_Combo.addStyleClass("vrSimpleViews");
		oViewRepeater_Combo.setNoData(new sap.ui.commons.TextView({ text: "Sorry, no data available!" }));

		oViewRepeater_Combo.attachSearch(function(oEvent) {
			alert("search value:" + oEvent.getParameter("query"));
		});
		//
		//////// End of CONTROL SECTION ////////////////////////////////////////////////////////////

		//////////// VIEW SECTION //////////////////////////////////////////////////////////////////
		//
		oViewRepeater_Combo.addView(new sap.suite.ui.commons.RepeaterViewConfiguration({
			icon: "images/ctrls/tiles2.png",
			iconHovered: "images/ctrls/tiles2_hover.png",
			tooltip: "Small tiles",
			itemMinWidth: 210,
			itemHeight: 68,
			responsive: true,
			path: "/data",
			template: oRowTemplate1
		}));

		oViewRepeater_Combo.addView(new sap.suite.ui.commons.RepeaterViewConfiguration({
			icon: "images/ctrls/tiles.png",
			iconHovered: "images/ctrls/tiles_hover.png",
			tooltip: "Big tiles",
			responsive: true,
			itemMinWidth: 310,
			itemHeight: 128,
			path: "/data",
			template: oRowTemplate2
		}));

		oViewRepeater_Combo.addView(new sap.suite.ui.commons.RepeaterViewConfiguration({
			icon: "images/ctrls/list.png",
			iconHovered: "images/ctrls/list_hover.png",
			tooltip: "Table view",
			external: true,
			externalRepresentation: oTable_Combo
		}));

		oViewRepeater_Combo.setDefaultViewIndex(0);
		//
		//////// End of VIEW SECTION ////////////////////////////////////////////////////////////

		oViewRepeater_Combo.placeAt("vr-combo");
	</script>

</head>

<body class="sapUiDemokitBody" role="application">
<h1 color="Blue" icon="images/ctrls/rowrepeater-icon.png">ViewRepeater</h1>

<h2>Introduction</h2>

<p>
	This control extends the <a class="sapUiDemokitSrcLink"
	                            href="../../../../../../test-resources/sap/ui/commons/demokit/RowRepeater.html">RowRepeater</a>
	control and allows you to change data representation by switching between different views. Data can be displayed not
	only as
	rows but also as tiles that are adjusted to fill the entire horizontal space.
</p>
<p>
	You can substitute the original repeater rendering with any external control defined in the <code>externalRepresentation</code>
	association by setting the <code>external</code> property to <code>true</code>.
</p>
<p>
	This control provides the <i>Search</i> field that fires the search event when a user chooses <i>Search</i>. Note
	that no actual search occurs. An application developer can decide how to handle the event and what model
	manipulation to perform.
</p>

<h2>Responsive Layout</h2>
<p>To set up the responsive layout, perform the following configuration steps:<br>
<ol>
	<li>Set the <code>responsive</code> property to <code>true</code> for the current view in <code>ViewRepeater</code>
		or for a particular view in <code>RepeaterViewConfiguration</code>.
	</li>
	<li>Define the height of the <code>ViewRepeater</code> either in absolute values (for example, pixels or em) or in
		percent using the <code>height</code> property.
		Note that if you define the height of the <code>ViewRepeater</code> in percent, the height of the parent DOM
		element must be greater than zero.
		By default, the <code>height</code> property of <code>ViewRepeater</code> is set to 100%.
	</li>
	<li>Define the height of the <code>ViewRepeator</code> tiles in pixels using the <code>itemHeight</code> property
		for the current view in <code>ViewRepeater</code> or for a particular view in
		<code>RepeaterViewConfiguration</code>.
	</li>
	<li>Define the width of the <code>ViewRepeator</code> tiles in pixels using the <code>itemMinWidth</code> property
		for the current view in <code>ViewRepeater</code> or for a particular view in
		<code>RepeaterViewConfiguration</code>.
	</li>
</ol>
</p>
<p>Note that if the <code>showMoreSteps</code> property value is greater than zero and the <code>responsive</code>
	property is set to <code>true</code>, content is displayed in tiles but the number of tiles does not change when the
	<code>ViewRepeater</code> is resized.</p>
<h2>Keyboard Support</h2>
<p>
	Use arrow keys to navigate through the options within the viewing, filtering, and sorting lists.
</p>
<h2>Examples</h2>

<h3>Model</h3>
<p>All examples below use the same data model. To make example code shorter and more readable the model code is
	externalized into this section.</p>
<div code-sample="vr-model" script="VRModel"></div>

<h3>ViewRepeater Without View Selector</h3>
<p>If you do not need to provide an ability to switch between views you can set view parameters directly in the
	ViewRepeater and hide the view selector.</p>
<div code-sample="vr-noviews" script="VRNoViews"></div>

<br>
<br>
<h3>ViewRepeater with Its Own Rendering</h3>
<p>You can define different views for the ViewRepeater by adding the <code>RepeaterViewConfiguration</code> items
	to the <code>views</code> aggregation.<br>
	<code>RepeaterViewConfiguration</code> defines how to render the control.
	You can specify all or several properties for the view. If needed, you can provide a new template for rows and
	tiles.
	If a property is not provided for the view, ViewRepeater uses a value defined in the previous view.<br>
	This example shows four views. The first two views have their own templates (small tiles and large tiles).
	The last two views do not have their own templates and use a template defined before.<br>
<h4>Description of the Views</h4>
<ul>
	<li><b>View 1</b> shows the content in small tiles.</li>
	<li><b>View 2</b> shows the content in large tiles.</li>
	<li><b>View 3</b> does not change the template and quantity of the tiles but sets the <code>responsive</code>
		property to <code>false</code>.
		This makes a renderer ignore the <code>itemMinWidth</code> property and draw the tile
		so that it fills the entire row (as it is rendered in the original RowRepeater).
	</li>
</ul>
</p>
<p>Each view can be represented in the view selector as a title, an icon or both.
	If neither an icon nor a title is provided, the default name "View #" appears.<br>
	In this example, the first view has neither a name nor an icon. The view is represented by a default name.
	The second view is represented by an icon. The third and fourth views are set to display both an icon and a title.
</p>
<div code-sample="vr-simple" script="VRSimple"></div>

<br>
<br>
<h3>ViewRepeater with External Rendering</h3>
<p>You can turn off rendering of the ViewRepeater and place another control instead.
	To do this, set the <code>external</code> property to <code>true</code> and define the replacement control
	using the <code>externalRepresentation</code> aggregation. You can use a table, a chart, or any other control you
	need.
	If the external control does not have a model, the ViewRepeater shares its own model
	by calling the <code>setModel()</code> method in the external control.</p>
<div code-sample="vr-ext" script="VRExternal"></div>

<br>
<br>
<h3>Combined Example</h3>
<p>The example below displays the combined approach with two standard views and one view using the table.
	The sorters and filters are hidden in this example.</p>
<div code-sample="vr-combo" script="VRCombined"></div>

<p>
	<a class="sapUiDemokitSrcLink" href="../../../../../../docs/api/symbols/sap.suite.ui.commons.ViewRepeater.html">ViewRepeater
		API documentation</a><br />
	<a class="sapUiDemokitSrcLink"
	   href="../../../../../../docs/api/symbols/sap.suite.ui.commons.RepeaterViewConfiguration.html">RepeaterViewConfiguration
		API documentation</a>
</p>
<br />
</body>
</html>
