<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>ACC ChartContainer - sap.suite.ui.commons</title>

	<!-- UI5 Bootstrap -->
	<script src="../../../../../../resources/sap-ui-core.js"
	        type="text/javascript" id="sap-ui-bootstrap"
	        data-sap-ui-libs="sap.suite.ui.commons,sap.m,sap.ui.commons"
	        data-sap-ui-theme="sap_belize"></script>

	<style type="text/css">
	</style>
	<script type="text/javascript">
		sap.ui.getCore().attachInit(function () {
			"use strict";
			sap.ui.require([
				"sap/ui/model/json/JSONModel",
				"sap/m/FlexBox",
				"sap/suite/ui/commons/ChartContainer",
				"sap/suite/ui/commons/ChartContainerContent",
				"sap/m/Table",
				"sap/m/Column",
				"sap/m/Text",
				"sap/m/ColumnListItem",
				"sap/viz/ui5/controls/VizFrame",
				"sap/viz/ui5/data/FlattenedDataset",
				"sap/viz/ui5/controls/common/feeds/FeedItem"
			], function (JSONModel, FlexBox, ChartContainer, ChartContainerContent, Table, Column, Text,
			             ColumnListItem, VizFrame, FlattenedDataset, FeedItem) {

				var oModel = new JSONModel({
					"Products": [
						{
							"Country": "China",
							"Profit": 100,
							"Forecast": 200,
							"Target": 20,
							"Revenue": 20,
							"Revenue2": 20,
							"Revenue3": 512
						},
						{
							"Country": "Japan",
							"Profit": 159,
							"Forecast": 140,
							"Target": 150,
							"Revenue": 30,
							"Revenue2": 100,
							"Revenue3": 303
						},
						{
							"Country": "India",
							"Profit": 129,
							"Forecast": 120,
							"Target": 100,
							"Revenue": 200,
							"Revenue2": 222,
							"Revenue3": 263
						},
						{
							"Country": "France",
							"Profit": 58,
							"Forecast": 60,
							"Target": 80,
							"Revenue": 116,
							"Revenue2": 152,
							"Revenue3": 113
						},
						{
							"Country": "Australia",
							"Profit": 149,
							"Forecast": 120,
							"Target": 150,
							"Revenue": 249,
							"Revenue2": 292,
							"Revenue3": 443
						},
						{
							"Country": "Sweden",
							"Profit": 49,
							"Forecast": 60,
							"Target": 55,
							"Revenue": 1449,
							"Revenue2": 242,
							"Revenue3": 243
						}
					],
					"businessData": [
						{
							"Sales_Month": "April",
							"Marital Status": "Married",
							"Customer Gender": "Female",
							"Sales_Quarter": "Q1",
							"Cost": 190,
							"Unit Price": 328.3,
							"Gross Profit": 321,
							"Sales Revenue": 120
						},
						{
							"Sales_Month": "May",
							"Marital Status": "Married",
							"Customer Gender": "Female",
							"Sales_Quarter": "Q2",
							"Cost": 189.9,
							"Unit Price": 151.17,
							"Gross Profit": 181.59,
							"Sales Revenue": 471.49
						},
						{
							"Sales_Month": "June",
							"Marital Status": "Married",
							"Customer Gender": "Female",
							"Sales_Quarter": "Q3",
							"Cost": 135,
							"Unit Price": 321,
							"Gross Profit": 124,
							"Sales Revenue": 349
						},
						{
							"Sales_Month": "July",
							"Marital Status": "Married",
							"Customer Gender": "Female",
							"Sales_Quarter": "Q4",
							"Cost": 169.4,
							"Unit Price": 185.2,
							"Gross Profit": 153.8,
							"Sales Revenue": 145.9
						},
						{
							"Sales_Month": "August",
							"Marital Status": "Married",
							"Customer Gender": "Male",
							"Sales_Quarter": "Q1",
							"Cost": 270.2,
							"Unit Price": 175,
							"Gross Profit": 154.3,
							"Sales Revenue": 164.9
						},
						{
							"Sales_Month": "April",
							"Marital Status": "Married",
							"Customer Gender": "Female",
							"Sales_Quarter": "Q1",
							"Cost": 190,
							"Unit Price": 128.3,
							"Gross Profit": 321,
							"Sales Revenue": 120
						},
						{
							"Sales_Month": "May",
							"Marital Status": "Married",
							"Customer Gender": "Female",
							"Sales_Quarter": "Q2",
							"Cost": 189.9,
							"Unit Price": 151.17,
							"Gross Profit": 181.59,
							"Sales Revenue": 471.49
						},
						{
							"Sales_Month": "June",
							"Marital Status": "Married",
							"Customer Gender": "Female",
							"Sales_Quarter": "Q3",
							"Cost": 135,
							"Unit Price": 321,
							"Gross Profit": 124,
							"Sales Revenue": 349
						},
						{
							"Sales_Month": "July",
							"Marital Status": "Married",
							"Customer Gender": "Female",
							"Sales_Quarter": "Q4",
							"Cost": 169.4,
							"Unit Price": 185.2,
							"Gross Profit": 153.8,
							"Sales Revenue": 145.9
						},
						{
							"Sales_Month": "August",
							"Marital Status": "Married",
							"Customer Gender": "Male",
							"Sales_Quarter": "Q1",
							"Cost": 270.2,
							"Unit Price": 175,
							"Gross Profit": 154.3,
							"Sales Revenue": 164.9
						},
						{
							"Sales_Month": "April",
							"Marital Status": "Married",
							"Customer Gender": "Female",
							"Sales_Quarter": "Q1",
							"Cost": 190,
							"Unit Price": 128.3,
							"Gross Profit": 321,
							"Sales Revenue": 120
						},
						{
							"Sales_Month": "May",
							"Marital Status": "Married",
							"Customer Gender": "Female",
							"Sales_Quarter": "Q2",
							"Cost": 189.9,
							"Unit Price": 151.17,
							"Gross Profit": 181.59,
							"Sales Revenue": 471.49
						},
						{
							"Sales_Month": "June",
							"Marital Status": "Married",
							"Customer Gender": "Female",
							"Sales_Quarter": "Q3",
							"Cost": 135,
							"Unit Price": 321,
							"Gross Profit": 124,
							"Sales Revenue": 349
						},
						{
							"Sales_Month": "July",
							"Marital Status": "Married",
							"Customer Gender": "Female",
							"Sales_Quarter": "Q4",
							"Cost": 169.4,
							"Unit Price": 185.2,
							"Gross Profit": 153.8,
							"Sales Revenue": 145.9
						},
						{
							"Sales_Month": "August",
							"Marital Status": "Married",
							"Customer Gender": "Male",
							"Sales_Quarter": "Q1",
							"Cost": 270.2,
							"Unit Price": 175,
							"Gross Profit": 154.3,
							"Sales Revenue": 164.9
						}
					]
				});

				var oTable = new Table({
					columns: [
						new Column({
							header: new Text({
								text: "Sales Month"
							})
						}),
						new Column({
							header: new Text({
								text: "Marital Status"
							})
						}),
						new Column({
							header: new Text({
								text: "Customer Gender"
							})
						}),
						new Column({
							header: new Text({
								text: "Sales Quarter"
							})
						}),
						new Column({
							header: new Text({
								text: "Cost"
							})
						}),
						new Column({
							header: new Text({
								text: "Unit Price"
							})
						}),
						new Column({
							header: new Text({
								text: "Gross Profit"
							})
						}),
						new Column({
							header: new Text({
								text: "Sales Revenue"
							})
						})
					]
				});
				oTable.bindItems({
					path: "/businessData",
					template: new ColumnListItem({
						cells: [
							new Text({
								text: "{Sales_Month}"
							}),
							new Text({
								text: "{Marital Status}"
							}),
							new Text({
								text: "{Customer Gender}"
							}),
							new Text({
								text: "{Sales_Quarter}"
							}),
							new Text({
								text: "{Cost}"
							}),
							new Text({
								text: "{Unit Price}"
							}),
							new Text({
								text: "{Gross Profit}"
							}),
							new Text({
								text: "{Sales Revenue}"
							})
						]
					})
				});

				var oViz = new VizFrame({
					width: "100%",
					height: "700px",
					uiConfig: {applicationSet: 'fiori'},
					dataset: new FlattenedDataset({
						dimensions: [{
							name: 'Country',
							value: "{Country}"
						}],
						measures: [{
							group: 1,
							name: "Profit",
							value: "{Profit}"
						}, {
							group: 1,
							name: "Target",
							value: "{Target}"
						}, {
							group: 1,
							name: "Forecast",
							value: "{Forecast}"
						}, {
							group: 1,
							name: "Revenue",
							value: "{Revenue}"
						}, {
							group: 1,
							name: "Revenue2",
							value: "{Revenue2}"
						}, {
							group: 1,
							name: "Revenue3",
							value: "{Revenue3}"
						}],
						data: {
							path: "/Products"
						}
					}),
					vizType: "line",
					feeds: [
						new FeedItem({
							"uid": "primaryValues",
							"type": "Measure",
							"values": ["Revenue"]
						}),
						new FeedItem({
							"uid": "axisLabels",
							"type": "Dimension",
							"values": ["Country"]
						}),
						new FeedItem({
							"uid": "targetValues",
							"type": "Measure",
							"values": ["Target"]
						})
					]
				});

				var oChartContainer = new ChartContainer({
					showFullScreen: true,
					autoAdjustHeight: false,
					showSelectionDetails: true,
					title: "Testing Chart Container",
					content: [
						new ChartContainerContent({
							icon: "sap-icon://line-chart",
							title: "Line Chart",
							content: oViz
						}),
						new ChartContainerContent({
							icon: "sap-icon://table-view",
							title: "Table",
							content: oTable
						})
					]
				});

				var oFlexBox = new FlexBox({
					renderType: "Bare",
					fitContainer: true,
					wrap: "Wrap",
					items: oChartContainer
				});
				oFlexBox.setModel(oModel);

				oFlexBox.placeAt("content");
			});
		});
	</script>
</head>

<body class="sapUiBody">
<div id="content"></div>
</body>
</html>
