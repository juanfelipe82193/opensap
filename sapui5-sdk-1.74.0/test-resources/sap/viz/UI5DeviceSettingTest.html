<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>UI5 Automation Testing</title>

    <script id="sap-ui-bootstrap" src="http://127.0.0.1:8080/uilib-sample/resources/sap-ui-core.js"
data-sap-ui-libs="sap.ui.commons,sap.ui.ux3, sap.m, sap.viz" data-sap-ui-theme="sap_bluecrystal">
</script>

<script type="text/javascript">
			sap.ui.define(["sap/ui/Device"], function(Device){
					Device.system.desktop = false;
			});
    
//CODE START
var initOptions = {
    "vizType": "bar",
    "uiConfig": {
        "applicationSet": "fiori"
    },
    "vizProperties": {
        "interaction": {
            "behaviorType": "noHoverBehavior"
        },
        "title": {
            "visible": true
        },
        "categoryAxis": {
            "title": {
                "visible": true
            }
        },
        "valueAxis": {
            "title": {
                "visible": true
            }
        }
    }
};

//this setting will not take effect, because "new sap.viz.ui5.controls.VizFrame" will
//reset treatAsMobile.
sap.viz.api.env.globalSettings({"treatAsMobile": "off"}); 

//reset treatAsMobile to "on"
var vizframe = new sap.viz.ui5.controls.VizFrame(initOptions);

//this setting will take effect.
sap.viz.api.env.globalSettings({"treatAsMobile": "off"});

var model = new sap.ui.model.json.JSONModel({
    "businessData": [{
        "Sales_Quarter": "Q1",
        "Sales_Month": "February",
        "Customer Gender": "Female",
        "Cost": 413.57,
        "Unit Price": 348.04,
        "Gross Profit": 611.55
    },
    {
        "Sales_Quarter": "Q1",
        "Sales_Month": "February",
        "Customer Gender": "Male",
        "Cost": 469.38,
        "Unit Price": 388.4,
        "Gross Profit": 665.49
    },
    {
        "Sales_Quarter": "Q1",
        "Sales_Month": "January",
        "Customer Gender": "Female",
        "Cost": 339.75,
        "Unit Price": 289.86,
        "Gross Profit": 524.27
    },
    {
        "Sales_Quarter": "Q1",
        "Sales_Month": "January",
        "Customer Gender": "Male",
        "Cost": 319.74,
        "Unit Price": 290.26,
        "Gross Profit": 479.92
    },
    {
        "Sales_Quarter": "Q1",
        "Sales_Month": "March",
        "Customer Gender": "Female",
        "Cost": 510.99,
        "Unit Price": 420.39,
        "Gross Profit": 763.9
    },
    {
        "Sales_Quarter": "Q1",
        "Sales_Month": "March",
        "Customer Gender": "Male",
        "Cost": 595.32,
        "Unit Price": 476.86,
        "Gross Profit": 890.41
    },
    {
        "Sales_Quarter": "Q2",
        "Sales_Month": "April",
        "Customer Gender": "Female",
        "Cost": 381.1,
        "Unit Price": 310,
        "Gross Profit": 580.03
    },
    {
        "Sales_Quarter": "Q2",
        "Sales_Month": "April",
        "Customer Gender": "Male",
        "Cost": 361.51,
        "Unit Price": 299.08,
        "Gross Profit": 547.72
    },
    {
        "Sales_Quarter": "Q2",
        "Sales_Month": "June",
        "Customer Gender": "Female",
        "Cost": 484.71,
        "Unit Price": 394.86,
        "Gross Profit": 742.22
    },
    {
        "Sales_Quarter": "Q2",
        "Sales_Month": "June",
        "Customer Gender": "Male",
        "Cost": 501.31,
        "Unit Price": 394.11,
        "Gross Profit": 748.82
    },
    {
        "Sales_Quarter": "Q2",
        "Sales_Month": "May",
        "Customer Gender": "Female",
        "Cost": 388.34,
        "Unit Price": 335.9,
        "Gross Profit": 594.51
    },
    {
        "Sales_Quarter": "Q2",
        "Sales_Month": "May",
        "Customer Gender": "Male",
        "Cost": 413.37,
        "Unit Price": 323.63,
        "Gross Profit": 609.14
    },
    {
        "Sales_Quarter": "Q3",
        "Sales_Month": "August",
        "Customer Gender": "Female",
        "Cost": 529.17,
        "Unit Price": 429.47,
        "Gross Profit": 807.89
    },
    {
        "Sales_Quarter": "Q3",
        "Sales_Month": "August",
        "Customer Gender": "Male",
        "Cost": 687.38,
        "Unit Price": 562.08,
        "Gross Profit": 1016.66
    },
    {
        "Sales_Quarter": "Q3",
        "Sales_Month": "July",
        "Customer Gender": "Female",
        "Cost": 496.36,
        "Unit Price": 431.28,
        "Gross Profit": 756.2
    },
    {
        "Sales_Quarter": "Q3",
        "Sales_Month": "July",
        "Customer Gender": "Male",
        "Cost": 522.6,
        "Unit Price": 426.44,
        "Gross Profit": 789.55
    },
    {
        "Sales_Quarter": "Q3",
        "Sales_Month": "September",
        "Customer Gender": "Female",
        "Cost": 623.09,
        "Unit Price": 504.42,
        "Gross Profit": 932.6
    },
    {
        "Sales_Quarter": "Q3",
        "Sales_Month": "September",
        "Customer Gender": "Male",
        "Cost": 517.29,
        "Unit Price": 433.33,
        "Gross Profit": 783.75
    },
    {
        "Sales_Quarter": "Q4",
        "Sales_Month": "December",
        "Customer Gender": "Female",
        "Cost": 681.98,
        "Unit Price": 543.11,
        "Gross Profit": 1008.05
    },
    {
        "Sales_Quarter": "Q4",
        "Sales_Month": "December",
        "Customer Gender": "Male",
        "Cost": 893.69,
        "Unit Price": 707.98,
        "Gross Profit": 1368.48
    },
    {
        "Sales_Quarter": "Q4",
        "Sales_Month": "November",
        "Customer Gender": "Female",
        "Cost": 666.47,
        "Unit Price": 539.48,
        "Gross Profit": 995.43
    },
    {
        "Sales_Quarter": "Q4",
        "Sales_Month": "November",
        "Customer Gender": "Male",
        "Cost": 770.42,
        "Unit Price": 627.1,
        "Gross Profit": 1152.17
    },
    {
        "Sales_Quarter": "Q4",
        "Sales_Month": "October",
        "Customer Gender": "Female",
        "Cost": 467.66,
        "Unit Price": 390.75,
        "Gross Profit": 714.47
    },
    {
        "Sales_Quarter": "Q4",
        "Sales_Month": "October",
        "Customer Gender": "Male",
        "Cost": 494.42,
        "Unit Price": 414.57,
        "Gross Profit": 733.38
    }]
});
var dataset = new sap.viz.ui5.data.FlattenedDataset({
    "dimensions": [{
        "name": "Sales_Quarter",
        "value": "{Sales_Quarter}"
    },
    {
        "name": "Sales_Month",
        "value": "{Sales_Month}"
    },
    {
        "name": "Customer Gender",
        "value": "{Customer Gender}"
    }],
    "measures": [{
        "name": "Cost",
        "value": "{Cost}"
    },
    {
        "name": "Unit Price",
        "value": "{Unit Price}"
    },
    {
        "name": "Gross Profit",
        "value": "{Gross Profit}"
    }],
    "data": {
        "path": "/businessData"
    }
});
vizframe.setModel(model);
vizframe.setDataset(dataset);
var feeds = [new sap.viz.ui5.controls.common.feeds.FeedItem({
    "uid": "categoryAxis",
    "type": "Dimension",
    "values": ["Sales_Quarter", "Sales_Month"]
}), new sap.viz.ui5.controls.common.feeds.FeedItem({
    "uid": "valueAxis",
    "type": "Measure",
    "values": ["Cost", "Unit Price", "Gross Profit"]
}), new sap.viz.ui5.controls.common.feeds.FeedItem({
    "uid": "color",
    "type": "Dimension",
    "values": ["Customer Gender"]
}), ];
feeds.forEach(function(feedItem) {
    vizframe.addFeed(feedItem);
});
vizframe.placeAt("content");

var popOver = new sap.viz.ui5.controls.Popover({});
popOver.connect(vizframe.getVizUid())
               
</script>
</head>
<body class="sapUiBody">
	<div id="content"></div>
</body>
</html>
