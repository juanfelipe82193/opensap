<!DOCTYPE HTML><html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>Request Stack Test</title><script id="sap-ui-bootstrap" type="text/javascript"	src="../../../../resources/sap-ui-core.js"	data-sap-ui-theme="sap_belize"	data-sap-ui-libs="sap.m,sap.zen.crosstab">	</script><link rel="stylesheet"	href="../../../../resources/sap/ui/thirdparty/qunit.css" type="text/css"	media="screen" /><script type="text/javascript"	src="../../../../resources/sap/ui/thirdparty/qunit.js"></script><script type="text/javascript" src="/aad/jasmine/qunit/qunit_xml_reporter.js"></script><script type="text/javascript"	src="../../../../resources/sap/ui/qunit/QUnitUtils.js"></script></head><body>	<h1 id="qunit-header">RequestStack Tests</h1>	<h2 id="qunit-banner"></h2>	<h2 id="qunit-userAgent"></h2>	<ol id="qunit-tests"></ol>	<div id="qunit-fixture">test markup, will be hidden</div>	<script type="text/javascript">	jQuery.sap.require("sap.zen.crosstab.paging.RequestStack");		module("Request stack tests", {			setup : function() {			},			teardown : function() {			}		});		test("Create a stack with size 0", function() {			var oStack = new sap.zen.crosstab.paging.RequestStack(0);			oStack.push("1");			oStack.push("2");			ok(oStack.getActualSize() === 2, "push elements: stack must grow without limits");						var oElement = oStack.pop();			ok (oElement === "2", "popping from stack results in '2'");		});				test("Create a stack with size 3 and basic tests", function() {			var oStack = new sap.zen.crosstab.paging.RequestStack(3);			oStack.push("1");			oStack.push("2");			ok(oStack.getActualSize() === 2, "pushing '1' and '2' onto the stack: stack size 2");						var oElement = oStack.pop();			ok(oElement === "2", "popping '2' from stack");			ok(oStack.getActualSize() === 1, "stack shrinked by one to 1 element");						oElement = oStack.pop();			ok(oElement === "1", "popping '1' from stack");			ok(oStack.getActualSize() === 0, "stack now empty (0 elements)");						oElement = oStack.pop();			ok(!oElement, "popping undefined from empty stack");			ok(oStack.getActualSize() === 0, "stack still empty");						ok(oStack.getMaxSize() === 3, "Stack max size meets the definition");						oStack.push("4");			oStack.push("5");			ok(oStack.getActualSize() === 2, "Stack filled with '4' and '5'");			oStack.push("4");			ok(oStack.getActualSize() === 2, "pushing '4' again does not add to stack");			 			oElement = oStack.peek();			ok(oElement === "4", "peeking '4' from stack");			ok(oStack.getElementAt(0) === "5", "bottom element must be '5'");			ok(oStack.getActualSize() === 2, "Stack size after peek unchanged"); 		});				test("Create a stack with size 3 and overflow tests", function() {			var oStack = new sap.zen.crosstab.paging.RequestStack(3);			oStack.push("1");			oStack.push("2");			oStack.push("3");			ok(oStack.getActualSize() === 3, "pushing '1', '2' and '3' onto the stack: stack size 3");						oStack.push("4");			ok(oStack.getActualSize() === 3, "pushing '4' does not increase the stack size");			ok(oStack.peek() === "4", "'4' has been added on top of stack");			ok(oStack.getElementAt(0) === "2", "Element '1' was removed successfully");					});						test("Create a stack with size 2 and overflow tests with removedHandler", function() {			var sRemovedElement1 = "";			var sRemovedElement2 = "";			var f1 = function(oElement) {sRemovedElement1 = oElement;}			var f2 = function(oElement) {sRemovedElement2 = oElement;}						var oStack = new sap.zen.crosstab.paging.RequestStack(2);			oStack.addElementRemovedHandler(f1);			oStack.addElementRemovedHandler(f2);						oStack.push("1");			oStack.push("2");						oStack.push("3");			ok(sRemovedElement1 === "1", "handler 1 was called with '1' removed");			ok(sRemovedElement2 === "1", "handler 2 was called with '1' removed");									var sRemovedElement1 = "";			var sRemovedElement2 = "";			oStack.removeElementRemovedHandler(f2);						oStack.push("4");			ok(sRemovedElement1 === "2", "handler 1 was called with '2' removed");			ok(!sRemovedElement2, "handler 2 was no longer called");		});								test("Create stack with given size, then resize", function() {			var oStack = new sap.zen.crosstab.paging.RequestStack(2);			oStack.push("1");			oStack.push("2");			oStack.push("3");			ok(oStack.getActualSize() === 2, "Stack size must be two");			ok(oStack.pop() === "3", "'3' must be topmost element");						oStack.resetStack(5);			oStack.push("1");			oStack.push("2");			oStack.push("3");			oStack.push("4");			oStack.push("5");			oStack.push("6");			ok(oStack.getActualSize() === 5, "Stack size must be 5");			ok(oStack.pop() === "6", "'6' must be topmost element");						oStack.resetStack(3);			oStack.push("1");			oStack.push("2");			oStack.push("3");			oStack.push("4");						ok(oStack.getActualSize() === 3, "Stack size must be 3");			ok(oStack.pop() === "4", "'4' must be topmost element");						oStack.resetStack(0);			oStack.push("1");			oStack.push("2");			oStack.push("3");			oStack.push("4");						ok(oStack.getActualSize() === 4, "Stack size must be 4");			ok(oStack.pop() === "4", "'4' must be topmost element");		});	</script></body></html>