true;ruleBody STEP 1 - Get Dependencies for empty rule;{ "ruleBody": { "type": "text", "content": { "condition": "" } }, "vocabulary": "testAutomation.dataFiles.TC_1421::gaming", "flags": { "dependenciesOutput": true, "validationOutput": false  } };{"code":"1000","message":"Validate success","output":{"status":"Success","dependencies":{}},"details":[{"subject":"Validate"}]};
true;ruleBody STEP 2 - Get Dependencies for DT rule with condition, actions, and outputs ;{"ruleBody":{"type":"decisionTable","content":{"headers":[{"colID":"0","expression":"player.age","alias":"Age","type":"condition"},{"colID":"1","name":"Output","type":"output"},{"colID":"2","text":"Action","type":"action"},{"colID":"3","text":"Action2","type":"action"}],"rows":[{"rowID":"1","row":[{"colID":"0","content":"<30"},{"colID":"1","content":"player.age"},{"colID":"2","content":"SendSMS"},{"colID":"3","content":"SendEmail"}]},{"rowID":"2","row":[{"colID":"0","content":"<25"},{"colID":"1","content":"player.gender"},{"colID":"2","content":"SendEmail"},{"colID":"3","content":"SendSMS"}]}]}},"vocabulary":"testAutomation.dataFiles.TC_1421::gaming","flags":{"dependenciesOutput":true,"validationOutput":false}};{"code":"1000","message":"Validate success","output":{"status":"Success","dependencies":{"dataObjects.player":{"category":"DO","DOName":"player","vocaName":"testAutomation.dataFiles.TC_1421::gaming"},"dataObjects.player.attributes.age":{"category":"DOAttribute","DOName":"player","attribute":"age","vocaName":"testAutomation.dataFiles.TC_1421::gaming"},"actions.SendSMS":{"category":"Actions","actionName":"SendSMS"},"actions.SendEmail":{"category":"Actions","actionName":"SendEmail"},"dataObjects.player.attributes.gender":{"category":"DOAttribute","DOName":"player","attribute":"gender","vocaName":"testAutomation.dataFiles.TC_1421::gaming"}}},"details":[{"subject":"Validate"}]};
true;ruleBody STEP 3 - Get Dependencies for Text rule with association  ;{"ruleBody":{"type":"text","content":{"condition":"sum of player.payment.payment_rc.amount > 100","outputs":[{"content":"payment_rc.timestamp","name":"PaymentTimestamp"},{"content":"payment_rc.currency_id","name":"PaymentCurrency"}],"actions":[{"name":"SendEmail"}],"parameters":[{"content":"payment_rc.amount","name":"Discount","actionReference":["SendEmail"]}]}},"vocabulary":"testAutomation.dataFiles.TC_1421::gaming","flags":{"dependenciesOutput":true,"validationOutput":false}};{"code":"1000","message":"Validate success","output":{"status":"Success","dependencies":{"dataObjects.player":{"category":"DO","DOName":"player","vocaName":"testAutomation.dataFiles.TC_1421::gaming"},"dataObjects.player.associations.payment":{"category":"DOAssociation","DOName":"player","association":"payment","vocaName":"testAutomation.dataFiles.TC_1421::gaming"},"dataObjects.payment.associations.payment_rc":{"category":"DOAssociation","DOName":"payment","association":"payment_rc","vocaName":"testAutomation.dataFiles.TC_1421::gaming"},"dataObjects.payment_rc.attributes.amount":{"category":"DOAttribute","DOName":"payment_rc","attribute":"amount","vocaName":"testAutomation.dataFiles.TC_1421::gaming"},"dataObjects.payment_rc":{"category":"DO","DOName":"payment_rc","vocaName":"testAutomation.dataFiles.TC_1421::gaming"},"dataObjects.payment_rc.attributes.timestamp":{"category":"DOAttribute","DOName":"payment_rc","attribute":"timestamp","vocaName":"testAutomation.dataFiles.TC_1421::gaming"},"dataObjects.payment_rc.attributes.currency_id":{"category":"DOAttribute","DOName":"payment_rc","attribute":"currency_id","vocaName":"testAutomation.dataFiles.TC_1421::gaming"},"actions.SendEmail":{"category":"Actions","actionName":"SendEmail","vocaName":"testAutomation.dataFiles.TC_1421::gaming"}}},"details":[{"subject":"Validate"}]};
true;ruleBody STEP 4 - Get Dependencies with global Dos  ;{"ruleBody":{"type":"text","content":{"condition":"sum of player.payment.payment_rc.amount > 100","outputs":[{"content":"payment_rc.timestamp","name":"PaymentTimestamp"},{"content":"payment_rc.currency_id","name":"PaymentCurrency"}],"actions":[{"name":"SendEmail"}],"parameters":[{"content":"payment_rc.reporting_amount","name":"LevelsUp","actionReference":["SendEmail"]}]}},"vocabulary":"testAutomation.dataFiles.TC_1421::gaming","flags":{"dependenciesOutput":true,"validationOutput":false}};{"code":"1000","message":"Validate success","output":{"status":"Success","dependencies":{"dataObjects.player":{"category":"DO","DOName":"player","vocaName":"testAutomation.dataFiles.TC_1421::gaming"},"dataObjects.player.associations.payment":{"category":"DOAssociation","DOName":"player","association":"payment","vocaName":"testAutomation.dataFiles.TC_1421::gaming"},"dataObjects.payment.associations.payment_rc":{"category":"DOAssociation","DOName":"payment","association":"payment_rc","vocaName":"testAutomation.dataFiles.TC_1421::gaming"},"dataObjects.payment_rc.attributes.amount":{"category":"DOAttribute","DOName":"payment_rc","attribute":"amount","vocaName":"testAutomation.dataFiles.TC_1421::gaming"},"dataObjects.payment_rc":{"category":"DO","DOName":"payment_rc","vocaName":"testAutomation.dataFiles.TC_1421::gaming"},"dataObjects.payment_rc.attributes.timestamp":{"category":"DOAttribute","DOName":"payment_rc","attribute":"timestamp","vocaName":"testAutomation.dataFiles.TC_1421::gaming"},"dataObjects.payment_rc.attributes.currency_id":{"category":"DOAttribute","DOName":"payment_rc","attribute":"currency_id","vocaName":"testAutomation.dataFiles.TC_1421::gaming"},"dataObjects.payment_rc.attributes.reporting_amount":{"category":"DOAttribute","DOName":"payment_rc","attribute":"reporting_amount","vocaName":"testAutomation.dataFiles.TC_1421::gaming"},"actions.SendEmail":{"category":"Actions","actionName":"SendEmail","vocaName":"testAutomation.dataFiles.TC_1421::gaming"}}},"details":[{"subject":"Validate"}]};
true;ruleBody STEP 5 - Get Dependencies Get Dependencies Only validate without dependencies   ;{ "ruleBody": { "type": "text", "content": { "condition": "rule.name = 'arik'", "outputs": [ { "content": "rule.name", "name": "name" } ] } }, "vocabulary": "testAutomation.dataFiles.TC_1421::gaming", "flags": { "dependenciesOutput": false, "validationOutput": false } };{"code":"1000","message":"Validate success","output":{"status":"Success"},"details":[{"subject":"Validate"}]};
true;ruleBody STEP 6 - Get Dependencies Get Dependencies Only validate without dependencies flag  ;{ "ruleBody": { "type": "text", "content": { "condition": "rule.name= 'name'", "outputs": [ { "content": "rule.name", "name": "ruleName" } ] } }, "vocabulary": "testAutomation.dataFiles.TC_1421::gaming", "flags": { "validationOutput": false  }};{"code":"1000","message":"Validate success","output":{"status":"Success"},"details":[{"subject":"Validate"}]};
true;ruleBody STEP 7 - Get Dependencies check vocabulary attribute;{"ruleBody":{"type":"text","content":{"actions":[{"name":"Send_Mail"}],"condition":"count of client.orders.row.id > 5","parameters":[{"content":"order.client_ID","name":"order_id","actionReference":["Send_Mail"]}]}},"vocabulary":"testAutomation.dataFiles.TC_1421::p1","detailedMessage":false,"flags":{"dependenciesOutput":true}};{"code":"1000","message":"Validate success","output":{"status":"Success","dependencies":{"dataObjects.client":{"category":"DO","DOName":"client","vocaName":"testAutomation.dataFiles.TC_1421::p1"},"dataObjects.client.associations.orders":{"category":"DOAssociation","DOName":"client","association":"orders","vocaName":"testAutomation.dataFiles.TC_1421::p1"},"dataObjects.order.associations.row":{"category":"DOAssociation","DOName":"order","association":"row","vocaName":"testAutomation.dataFiles.TC_1421::p2"},"dataObjects.order_row.attributes.id":{"category":"DOAttribute","DOName":"order_row","attribute":"id","vocaName":"testAutomation.dataFiles.TC_1421::p3"},"dataObjects.order":{"category":"DO","DOName":"order","vocaName":"testAutomation.dataFiles.TC_1421::p2"},"dataObjects.order.attributes.client_ID":{"category":"DOAttribute","DOName":"order","attribute":"client_ID","vocaName":"testAutomation.dataFiles.TC_1421::p2"},"actions.Send_Mail":{"category":"Actions","actionName":"Send_Mail","vocaName":"testAutomation.dataFiles.TC_1421::p2"}}},"details":[{"subject":"Validate"}]};
false;ruleBody STEP 8- Get Dependencies for invalid ruleBody ;{"ruleBody":{"type":"decisionTable","content":{"headers":[{"colID":"0","expression":"player.age","alias":"Age","type":"condition"},{"colID":"1","name":"Output","type":"output"},{"colID":"2","text":"Action","type":"action"},{"colID":"3","text":"Action2","type":"action"}],"rows":[{"rowID":"1","row":[{"colID":"0","content":"<30k"},{"colID":"1","content":"player.age"},{"colID":"2","content":"SendSMS"},{"colID":"3","content":"SendEmail"}]},{"rowID":"2","row":[{"colID":"0","content":"<25"},{"colID":"1","content":"player.gender"},{"colID":"2","content":"SendEmail"},{"colID":"3","content":"SendSMS"}]}]}},"vocabulary":"testAutomation.dataFiles.TC_1421::gaming","flags":{"dependenciesOutput":true,"validationOutput":false}};{"code":"1001","message":"Validate failure","output":{"status":"Error"},"details":[{"subject":"Validate","messages":[{"code":"1103","severity":"error","description":"Error in expression; remove 'k'"}]}]};
true;ruleBody STEP 9 - Text RuleBody Validation with invalid cond,invalid action names,invalid output params names and content of explicit output;{ "ruleBody": { "type": "text", "content": { "condition": "player.ag > 10", "actions": [ { "name": "sendLetter" }, { "name": "sendEmail" } ], "outputs": [ { "name": "textInfo", "content": "5" }, { "name": "la", "content": "'3'" } ] } }, "vocabulary": "testAutomation.dataFiles.TC_1421::gaming", "output": "playerInfo" };{"code":"1001","message":"Validate failure","output":{"status":"Error"},"details":[{"subject":"Validate","messages":[{"code":"1105","severity":"error","description":"Error in expression; enter valid operand instead of 'player.ag'\n","additionalInfo":{"cursorPosition":0},"path":"$.ruleBody.content.condition"},{"code":"1105","severity":"error","description":"Error in expression; enter valid operand instead of '5'\n","additionalInfo":{"cursorPosition":0},"path":"$.ruleBody.outputs[0].content"},{"code":"2517","severity":"error","description":"Invalid parameter definition. Parameter name 'la' does not exist for output 'playerInfo' in vocabulary.","path":"$.ruleBody.outputs[1].name"},{"code":"2516","severity":"error","description":"Action 'sendLetter' does not exist in vocabulary.","path":"$.ruleBody.actions[0].name"},{"code":"2516","severity":"error","description":"Action 'sendEmail' does not exist in vocabulary.","path":"$.ruleBody.actions[1].name"}]}]};
true;ruleBody STEP 10 - Text RuleBody Validation with invalid action params content, invalid names and invalid actionReference;{ "ruleBody": { "type": "text", "content": { "condition": "player.age > 10", "actions": [ { "name": "GiveDiscount" }, { "name": "NotValidAction" } ], "parameters": [ { "name": "Score", "content": "'String'", "actionReference": [ "GiveDiscount" ] }, { "name": "LevelUp", "content": 3, "actionReference": [ "GiveDiscount" ] }, { "name": "discount", "content": 50, "actionReference": [ "NotValidAction" ] } ] } }, "vocabulary": "testAutomation.dataFiles.TC_1421::gaming" };{"code":"1001","message":"Validate failure","output":{"status":"Error"},"details":[{"subject":"Validate","messages":[{"code":"1105","severity":"error","description":"Error in expression; enter valid operand instead of ''String''\n","additionalInfo":{"cursorPosition":0},"path":"$.ruleBody.parameters[0].content"},{"code":"2515","severity":"error","description":"Invalid parameter definition. Parameter name 'LevelUp' does not exist for action 'GiveDiscount' in vocabulary.","path":"$.ruleBody.parameters[1].name"},{"code":"2514","severity":"error","description":"Invalid parameter definition. Parameter references an action 'NotValidAction' that does not exist in vocabulary.","path":"$.ruleBody.parameters[2].actionReference"},{"code":"2516","severity":"error","description":"Action 'NotValidAction' does not exist in vocabulary.","path":"$.ruleBody.actions[1].name"}]}]};
true;ruleBody STEP 11 - Text RuleBody Validation with invalid output params content, with businessDataType and without explicit output;{ "ruleBody": { "type": "text", "content": { "condition": "player.age > 10", "outputs": [{"name": "out1", "content": 2, "businessDataType": "String"}] } }, "vocabulary": "testAutomation.dataFiles.TC_1421::gaming" };{"code":"1001","message":"Validate failure","output":{"status":"Error"},"details":[{"subject":"Validate","messages":[{"code":"1105","severity":"error","description":"Error in expression; enter valid operand instead of '2'\n","additionalInfo":{"cursorPosition":0},"path":"$.ruleBody.outputs[0].content"}]}]};
false;ruleBody STEP 12 - Text RuleBody Validation with invalid explicit output;{ "ruleBody": { "type": "text", "content": { "condition": "player.age > 10" } }, "output": "playerRecord", "vocabulary": "testAutomation.dataFiles.TC_1421::gaming" };{"code":"1001","message":"Validate failure","output":{"status":"Error"},"details":[{"subject":"Validate","messages":[{"code":"2518","severity":"error","description":"Output 'playerRecord' does not exist in vocabulary.","path":"$.output"}]}]};
true;ruleBody STEP 13  - Validation of decision table with transient alias{ "ruleBody": { "type": "decisionTable", "content": { "headers": [ { "colID": "0", "expression": "player_age", "alias": "Age", "type": "condition" }, { "colID": "1", "name": "discount", "type": "output" } ], "rows": [ { "rowID": "1", "row": [ { "colID": "0", "content": "<30" }, { "colID": "1", "content": "'output1'" } ] }, { "rowID": "2", "row": [ { "colID": "0", "content": "<25" }, { "colID": "1", "content": "12" } ] } ] } }, "vocabulary": "testAutomation.dataFiles.TC_2170::gaming", "flags": { "dependenciesOutput": true, "validationOutput": true, "transientVocabulary": { "inputContent": { "scope": "testAutomation.dataFiles.TC_2170::gaming", "aliases": [ { "name": "player_age", "content": "player.age", "deltaType" : "CREATE" } ] } } } };
false;ruleBody STEP 14 Validate decisionTable with Infinite loop aliases;{ "ruleBody": { "type": "decisionTable", "content": { "headers": [ { "colID": "0", "expression": "player_age", "alias": "Age", "type": "condition" }, { "colID": "1", "name": "discount", "type": "output" } ], "rows": [ { "rowID": "1", "row": [ { "colID": "0", "content": "<30" }, { "colID": "1", "content": "'output1'" } ] }, { "rowID": "2", "row": [ { "colID": "0", "content": "<25" }, { "colID": "1", "content": "12" } ] } ] } }, "vocabulary": "testAutomation.dataFiles.TC_2170::gaming", "flags": { "dependenciesOutput": true, "validationOutput": true, "transientVocabulary": { "inputContent": { "scope": "testAutomation.dataFiles.TC_2170::gaming", "aliases": [ { "name": "player_age", "content": "player.age", "deltaType": "CREATED" }, { "name": "name_of_player_3", "content": "name_of_player_2", "deltaType": "CREATE" }, { "name": "name_of_player_1", "content": "name_of_player_3", "deltaType": "CREATE" }, { "name": "name_of_player_2", "content": "name_of_player_1", "deltaType": "CREATE" } ] } } } };{"code":"1001","message":"Validate failure","output":{},"details":[{"subject":"Validate","messages":[{"code":"2115","severity":"error","description":"Invalid content in alias 'name_of_player_1'. Reason: 'Error in expression; enter valid operand instead of 'name_of_player_3'\n'"},{"code":"2118","severity":"error","description":"Invalid content in alias 'name_of_player_3'. Resolution of the alias will result in an infinite loop."}]}]};
