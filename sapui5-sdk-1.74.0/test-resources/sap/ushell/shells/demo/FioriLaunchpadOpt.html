<!DOCTYPE html>
<!-- Copyright (c) 2009-2017 SAP SE, All Rights Reserved -->
<html class="sapUShellFullHeight">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/>
        <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
        <script>
            function getUrlParams() {
                var vars = {};
                var parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(m,key,value) {
                    vars[key] = value;
                });
                return vars;
            }

            var configFileUrl = decodeURIComponent(getUrlParams()["configFileUrl"]),
                    sapUshellConfig = {
                        services: {
                            NavTargetResolution: {
                                config: {
                                    // enable to inject the NavTarget for #Test-url etc. directly via url parameters
                                    // .../FioriLaunchpad.html?sap-ushell-test-url-url=%2Fushell%2Ftest-resources%2Fsap%2Fushell%2Fdemoapps%2FAppNavSample&sap-ushell-test-url-additionalInformation=SAPUI5.Component%3Dsap.ushell.demo.AppNavSample#Test-url
                                    allowTestUrlComponentConfig : true
                                }
                            },
                            SupportTicket: {
                                // service has to be enabled explicitly for the demo platform
                                config: {
                                    enabled: true
                                }
                            },
                            EndUserFeedback: {
                                adapter: {
                                    config: {
                                        enabled: true
                                    }
                                }
                            },
                            UsageAnalytics: {
                                config: {
                                    enabled: true,
                                    setUsageAnalyticsPermitted : true,
                                    logClickEvents: false,
                                    logPageLoadEvents: false,
                                    pubToken: "f5d00f4d-e968-1649-8285-66ee86ba7845",
                                    baseUrl: "https://poc.warp.sap.com/tracker/"
                                }
                            },
                            Notifications: {
                                config: {
                                    enabled: true,
                                    serviceUrl: "/ushell/test-resources/sap/ushell/demoapps/NotificationsSampleData/model",
                                    //serviceUrl: "/sap/opu/odata4/iwngw/notification/default/iwngw/notification_srv/0001",
                                    pollingIntervalInSeconds: 30
                                }
                            },
                            UserInfo: {
                                adapter: {
                                    config: {
                                        themes: [
                                            { id: "sap_belize_plus",       name: "SAP Belize Plus" },
                                            { id: "sap_belize",       name: "SAP Belize" },
                                            { id: "theme1_id",       name: "Custom Theme" },
                                            { id: "sap_bluecrystal", name: "SAP BlueCrystal" },
                                            { id: "sap_hcb",         name: "SAP HCB"     }
                                        ]
                                    }
                                }
                            },
                            "ClientSideTargetResolution": {
                                "adapter": {
                                    "config": {
                                        "inbounds": {
                                            "startTransactionSample": {
                                                "semanticObject": "Shell",
                                                "action": "startWDA",
                                                "title": "CRM Europe",
                                                "signature": {
                                                    "parameters": {
                                                        "sap-system": {
                                                            required: true,
                                                            filter: {
                                                                value: "AB1CLNT000"
                                                            }
                                                        }
                                                    },
                                                    "additionalParameters": "allowed"
                                                },
                                                deviceTypes: {
                                                    desktop: true,
                                                    tablet: false,
                                                    phone: false

                                                },
                                                "resolutionResult": {
                                                    "applicationType": "SAPUI5",
                                                    "additionalInformation": "SAPUI5.Component=sap.ushell.demo.AppNavSample",
                                                    "url": "../../../../../test-resources/sap/ushell/demoapps/AppNavSample?array-param1=value1&array-param1=value2"
                                                }
                                            },
                                            "startTransactionSample2": {
                                                "semanticObject": "Shell",
                                                "action": "startGUI",
                                                "signature": {
                                                    "parameters": {
                                                        "sap-system": {
                                                            required: true,
                                                            filter: {
                                                                value: "U1YCLNT120"
                                                            }
                                                        }
                                                    },
                                                    "additionalParameters": "allowed"
                                                },
                                                deviceTypes: {
                                                    desktop: true,
                                                    tablet: false,
                                                    phone: false

                                                },
                                                "resolutionResult": {
                                                    "applicationType": "SAPUI5",
                                                    "additionalInformation": "SAPUI5.Component=sap.ushell.demo.AppNavSample",
                                                    "url": "../../../../../test-resources/sap/ushell/demoapps/AppNavSample?array-param1=value1&array-param1=value2"
                                                }
                                            },
                                            "startTransactionSample3": {
                                                "semanticObject": "Shell",
                                                "action": "startWDA",
                                                "title": "U1Y client 000",
                                                "signature": {
                                                    "parameters": {
                                                        "sap-system": {
                                                            required: true,
                                                            filter: {
                                                                value: "LOCAL"
                                                            }
                                                        }
                                                    },
                                                    "additionalParameters": "allowed"
                                                },
                                                deviceTypes: {
                                                    desktop: true,
                                                    tablet: false,
                                                    phone: false

                                                },
                                                "resolutionResult": {
                                                    "applicationType": "SAPUI5",
                                                    "additionalInformation": "SAPUI5.Component=sap.ushell.demo.AppNavSample",
                                                    "url": "../../../../../test-resources/sap/ushell/demoapps/AppNavSample?array-param1=value1&array-param1=value2"
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        },
                        renderers: {
                            fiori2 : {
                                componentData: {
                                    config: {
                                        enableNotificationsUI: true,
                                        enableSetTheme: true,
                                        enableHelp: true,
                                        preloadLibrariesForRootIntent: false,
                                        enableRecentActivity: true,
                                        enableContentDensity: true,
                                        enableUserDefaultParameters: true,
                                        enableBackGroundShapes: true,
                                        disableAppFinder: false,
                                        applications: {
                                            "Shell-home" : {
                                                enableEasyAccess: true,
                                                enableEasyAccessSAPMenu: true,
                                                enableEasyAccessUserMenu: true,
                                                enableActionModeMenuButton: true,
                                                disableSortedLockedGroups: false,
                                                enableTileActionsIcon: false,
                                                enableHideGroups: true,
                                                enableTilesOpacity: false
                                            }
                                        },
                                        rootIntent: "Shell-home",
                                        esearch: {
                                            searchBusinessObjects: false
                                        }
                                    }
                                }
                            }
                        },
                        bootstrapPlugins: {
                            NotificationsSampleData: {
                                component: "sap.ushell.demo.NotificationsSampleData",
                                url: "/ushell/test-resources/sap/ushell/demoapps/NotificationsSampleData"
                            }
                        }
                    };

            var oXHR = new XMLHttpRequest();
            if (configFileUrl !== "undefined") {
                oXHR.open("GET", configFileUrl, false);
                oXHR.onreadystatechange = function () {

                    if (this.status === 200 && this.readyState === 4) {
                        eval(oXHR.responseText);
                    }
                };
                oXHR.send();
            }

            window["sap-ushell-config"] = sapUshellConfig;
        </script>
        <script type="text/javascript">
            (function () {
                "use strict";
                /*global window, console*/
                //since the core of UI5 isn't loaded yet we must read the debug flags here to
                //determine if we should load core-min-1 - 3 files the same is done in jquery.sap.global.js file
                var bDebugSources = /sap-ui-debug=(true|x|X)/.test(window.location.search);

                var isIE = function () {
                    var bIE = navigator.appName == 'Microsoft Internet Explorer';
                    var bIE11 = (navigator.appName == 'Netscape') && (new RegExp("Trident/.*rv:([0-9]{1,}[\.0-9]{0,})").exec(navigator.userAgent) != null);

                    return bIE || bIE11;
                }();

                //Check local storage
                try {
                    bDebugSources = bDebugSources || /^(true|x|X)$/.test(window.localStorage.getItem("sap-ui-debug"));
                } catch (e) {
                    //IE9 doesn't have console when the dev tools aren't open
                    if (window.console && window.console.log) {
                        console.log('failed to read debug mode from local storage');
                    }
                }
                //set the debug sources flag
                window["sap-ui-debug"] = bDebugSources;
                var sScriptTags = '<script src="../../bootstrap/demo.js"><\/script>' +
                        '<script id="sap-ui-bootstrap" src="../../../../../resources/sap/fiori/core-min-0.js"' +
                        'data-sap-ui-evt-oninit="main(); ' +
                        '"data-sap-ui-xx-bindingSyntax="complex" ' +
                        'data-sap-ui-libs="sap.fiori, sap.m, sap.ushell"' +
                        'data-sap-ui-theme="sap_belize"' +
                        'data-sap-ui-compatVersion="1.16"' +
                        '><\/script>';

                if (window["sap-ui-debug"] !== true) {
                    sScriptTags +=
                            "<script src='../../../../../resources/sap/fiori/core-min-1.js' " + (isIE ? "defer" : "") + "><\/script>" +
                            "<script src='../../../../../resources/sap/fiori/core-min-2.js' " + (isIE ? "defer" : "") + "><\/script>" +
                            "<script src='../../../../../resources/sap/fiori/core-min-3.js' " + (isIE ? "defer" : "") + "><\/script>";
                }

                window.document.write(sScriptTags);

            }());

        </script>

        <script type="text/javascript">
            /**
             * Main method to be executed once SAPUI5 has been initialized.
             */
            function main() {
                "use strict";
                // load and register Fiori2 icon font
                if (sap.ui.Device.os.ios) {
                    jQuery.sap.setIcons({
                        'phone': '../../../../../resources/sap/ushell/themes/base/img/launchicons/57_iPhone_Desktop_Launch.png',
                        'phone@2': '../../../../../resources/sap/ushell/themes/base/img/launchicons/114_iPhone-Retina_Web_Clip.png',
                        'tablet': '../../../../../resources/sap/ushell/themes/base/img/launchicons/72_iPad_Desktop_Launch.png',
                        'tablet@2': '../../../../../resources/sap/ushell/themes/base/img/launchicons/144_iPad_Retina_Web_Clip.png',
                        'favicon': '../../../../../resources/sap/ushell/themes/base/img/launchpad_favicon.ico',
                        'precomposed': true
                    });
                } else {
                    jQuery.sap.setIcons({
                        'phone': '',
                        'phone@2': '',
                        'tablet': '',
                        'tablet@2': '',
                        'favicon': '../../../../../resources/sap/ushell/themes/base/img/launchpad_favicon.ico',
                        'precomposed': true
                    });
                }
                jQuery.sap.require("sap.ushell.iconfonts");
                sap.ushell.iconfonts.registerFiori2IconFont();

                /*global sap, document */

                // clean fiori loading screen markup before placing main content
                var oContent = sap.ushell.Container.createRenderer("fiori2");
                jQuery("#canvas").empty();
                setTimeout(function () {
                    oContent.placeAt("canvas");
                }, 1);
            }
        </script>
    </head>

    <body class="sapUiBody sapUShellFullHeight" role="application">
        <div id="canvas" class="sapUShellFullHeight">
            <!--  the Fiori2 loading screen for different browsers (as SAPUI5 is not loaded yet, will be replaced by Launchpad):
                * in pure HTML with CSS animation for modern browsers
                * animated gif image for <=IE9 (IE10+ doesn't support conditional comments)
            -->
            <!--[if IE]>
            <div id="fiori2-startup-flower" class="demo">
                <img src="../../../../../resources/sap/ushell/themes/base/img/flower_anim.gif"/>
            </div>
            <![endif]-->
            <!--[if !IE]> -->
            <div id="fiori2-startup-flower" class="demo">
                <div class="fiori2-blossom">
                    <div class="fiori2-leafContainer fiori2-leafContainer1">
                        <div class="fiori2-leaf fiori2-leaf1"></div>
                    </div>
                    <div class="fiori2-leafContainer fiori2-leafContainer2">
                        <div class="fiori2-leaf fiori2-leaf2"></div>
                    </div>
                    <div class="fiori2-leafContainer fiori2-leafContainer3">
                        <div class="fiori2-leaf fiori2-leaf3"></div>
                    </div>
                    <div class="fiori2-leafContainer fiori2-leafContainer4">
                        <div class="fiori2-leaf fiori2-leaf4"></div>
                    </div>
                    <div class="fiori2-leafContainer fiori2-leafContainer5">
                        <div class="fiori2-leaf fiori2-leaf5"></div>
                    </div>
                </div>
            </div>
            <!-- <![endif] -->
        </div>
    </body>
</html>
